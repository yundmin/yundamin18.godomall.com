nhn.husky.SE2M_AttachQuickPhoto=jindo.$Class({name:"SE2M_AttachQuickPhoto",$init:function(){},$ON_MSG_APP_READY:function(){this.oApp.exec("REGISTER_UI_EVENT",["photo_attach","click","ATTACHPHOTO_OPEN_WINDOW"])},$LOCAL_BEFORE_FIRST:function(a){if(!!this.oPopupMgr){return}this.htPopupOption={oApp:this.oApp,sName:this.name,bScroll:false,sProperties:"",sUrl:""};this.oPopupMgr=nhn.husky.PopUpManager.getInstance(this.oApp)},$ON_ATTACHPHOTO_OPEN_WINDOW:function(){this.htPopupOption.sUrl=this.makePopupURL();this.htPopupOption.sProperties="left=0,top=0,width=403,height=359,scrollbars=yes,location=no,status=0,resizable=no";this.oPopupWindow=this.oPopupMgr.openWindow(this.htPopupOption);this.oApp.exec("FOCUS");return(!!this.oPopupWindow?true:false)},makePopupURL:function(){var a="./photo_uploader/popup/photo_uploader.html?editorUrl="+encodeURIComponent(parent.location.href);return a},$ON_SET_PHOTO:function(f){var c,g,b;if(!f){return}try{c="";for(var a=0;a<f.length;a++){b=f[a];if(!b.sAlign){b.sAlign=""}g={sName:b.sFileName||"",sOriginalImageURL:b.sFileURL,bNewLine:b.bNewLine||false};parent.addUploadImages(b.sFileURL);c+=this._getPhotoTag(g)}this.oApp.exec("PASTE_HTML",[c])}catch(d){return false}},_getPhotoTag:function(b){var a='<img src="{=sOriginalImageURL}" title="{=sName}" >';if(b.bNewLine){a+='<br style="clear:both;">'}a=jindo.$Template(a).process(b);return a}});