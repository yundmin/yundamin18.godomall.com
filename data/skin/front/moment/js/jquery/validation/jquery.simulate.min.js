/*!
 * jQuery Simulate v0.0.1 - simulate browser mouse and keyboard events
 * https://github.com/jquery/jquery-simulate
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Thu May 29 21:31:24 2014 +0200
 */
;(function(c,e){var b=/^key/,a=/^(?:mouse|contextmenu)|click/;c.fn.simulate=function(g,f){return this.each(function(){new c.simulate(this,g,f)})};c.simulate=function(h,g,f){var i=c.camelCase("simulate-"+g);this.target=h;this.options=f;if(this[i]){this[i]()}else{this.simulateEvent(h,g,f)}};c.extend(c.simulate,{keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},buttonCode:{LEFT:0,MIDDLE:1,RIGHT:2}});c.extend(c.simulate.prototype,{simulateEvent:function(i,g,f){var h=this.createEvent(g,f);this.dispatchEvent(i,g,h,f)},createEvent:function(g,f){if(b.test(g)){return this.keyEvent(g,f)}if(a.test(g)){return this.mouseEvent(g,f)}},mouseEvent:function(h,g){var i,j,k,f;g=c.extend({bubbles:true,cancelable:(h!=="mousemove"),view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,button:0,relatedTarget:e},g);if(document.createEvent){i=document.createEvent("MouseEvents");i.initMouseEvent(h,g.bubbles,g.cancelable,g.view,g.detail,g.screenX,g.screenY,g.clientX,g.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,g.button,g.relatedTarget||document.body.parentNode);if(i.pageX===0&&i.pageY===0&&Object.defineProperty){j=i.relatedTarget.ownerDocument||document;k=j.documentElement;f=j.body;Object.defineProperty(i,"pageX",{get:function(){return g.clientX+(k&&k.scrollLeft||f&&f.scrollLeft||0)-(k&&k.clientLeft||f&&f.clientLeft||0)}});Object.defineProperty(i,"pageY",{get:function(){return g.clientY+(k&&k.scrollTop||f&&f.scrollTop||0)-(k&&k.clientTop||f&&f.clientTop||0)}})}}else{if(document.createEventObject){i=document.createEventObject();c.extend(i,g);i.button={0:1,1:4,2:2}[i.button]||i.button}}return i},keyEvent:function(g,f){var i;f=c.extend({bubbles:true,cancelable:true,view:window,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:0,charCode:e},f);if(document.createEvent){try{i=document.createEvent("KeyEvents");i.initKeyEvent(g,f.bubbles,f.cancelable,f.view,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.keyCode,f.charCode)}catch(h){i=document.createEvent("Events");i.initEvent(g,f.bubbles,f.cancelable);c.extend(i,{view:f.view,ctrlKey:f.ctrlKey,altKey:f.altKey,shiftKey:f.shiftKey,metaKey:f.metaKey,keyCode:f.keyCode,charCode:f.charCode})}}else{if(document.createEventObject){i=document.createEventObject();c.extend(i,f)}}if(!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())||(({}).toString.call(window.opera)==="[object Opera]")){i.keyCode=(f.charCode>0)?f.charCode:f.keyCode;i.charCode=e}return i},dispatchEvent:function(h,f,g){if(h[f]){h[f]()}else{if(h.dispatchEvent){h.dispatchEvent(g)}else{if(h.fireEvent){h.fireEvent("on"+f,g)}}}},simulateFocus:function(){var g,f=false,i=c(this.target);function h(){f=true}i.bind("focus",h);i[0].focus();if(!f){g=c.Event("focusin");g.preventDefault();i.trigger(g);i.triggerHandler("focus")}i.unbind("focus",h)},simulateBlur:function(){var i,f=false,h=c(this.target);function g(){f=true}h.bind("blur",g);h[0].blur();setTimeout(function(){if(h[0].ownerDocument.activeElement===h[0]){h[0].ownerDocument.body.focus()}if(!f){i=c.Event("focusout");i.preventDefault();h.trigger(i);h.triggerHandler("blur")}h.unbind("blur",g)},1)}});function d(g){var h,f=c(g.ownerDocument);g=c(g);h=g.offset();return{x:h.left+g.outerWidth()/2-f.scrollLeft(),y:h.top+g.outerHeight()/2-f.scrollTop()}}c.extend(c.simulate.prototype,{simulateDrag:function(){var h=0,k=this.target,o=this.options,f=d(k),m=Math.floor(f.x),l=Math.floor(f.y),p=o.dx||0,n=o.dy||0,g=o.moves||3,j={clientX:m,clientY:l};this.simulateEvent(k,"mousedown",j);for(;h<g;h++){m+=p/g;l+=n/g;j={clientX:Math.round(m),clientY:Math.round(l)};this.simulateEvent(document,"mousemove",j)}this.simulateEvent(k,"mouseup",j);this.simulateEvent(k,"click",j)}})})(jQuery);