{*** 다중선택형 | goods/list/list_12.html ***}
<!-- 2018-02-28 추가 -->
<style>
    .multiple_selection_btn{background:#f0f0f0; padding:15px 0; overflow:hidden;}
    .multiple_selection_btn ul{overflow:hidden;}
    .multiple_selection_btn ul li{float:left;width:50%;}
    .multiple_selection_btn ul li div{padding:0 5px;}
    .multiple_product_option .ly_buy_info{margin:15px 0 0; padding:0;}
    .multiple_product_option .ly_buy_info .ly_opt > li{margin-bottom:8px;}
    .multiple_product_option .ly_buy_info .ly_opt > li .bn_opt{z-index:auto; text-indent:0;}
    .related_goods .inp_chk{margin:0;}
    .related_goods .inp_chk input{margin-right:-2px;}
    .related_goods .inp_chk label{font-size:0; margin:0;}
    .multiple_product_option .view_order_goods{padding:0; background:none; border:none;}
    .multiple_product_option .price_info{padding:0;}
    .multiple_product_option .price_info .count{float:none; position:relative; display:block;}
    .multiple_product_option .price_info .count button{position:absolute; top:0;}
    .multiple_product_option .price_info .count button.down{left:0;}
    .multiple_product_option .price_info .count button.up{right:0;}
    .multiple_product_option .price_info .count input[type=number]{width:100%; height: 34px; border: 1px solid #c9c9c9; font-weight: bold; font-size:12px; text-align: center; vertical-align: middle; box-sizing: border-box;}
    .multiple_product_option .option_input {padding: 0 10px; margin-bottom: 5px; border: 1px solid #c3c3c3; background: #fff;}
    .multiple_product_option .option_input input,
    .multiple_product_option .txtInfo {border:none !important; font:12px normal !important; text-indent:0 !important;}
    .multiple_product_option .inp_tx{margin-bottom:0;}
    .multiple_product_option .inp_tx input[type=text]{height:33px;}
    .multiple_product_option .infor-txt{font-size:11px; color:#555; padding:5px 0 0;}
    .product_amount_box{border-top:#f0f0f0 1px solid; padding-top:10px;}
    .product_amount_box .view_order_goods{margin-top:8px;}
</style>
<script type="text/javascript">
    function replaceAllOrderInfo(str) {
        str = str.split("goodsNo[]").join("goodsNo{=goodsView['goodsNo']}[]");
        str = str.split("optionSno[]").join("optionSno{=goodsView['goodsNo']}[]");
        str = str.split("goodsPriceSum[]").join("goodsPriceSum{=goodsView['goodsNo']}[]");
        str = str.split("addGoodsPriceSum[]").join("addGoodsPriceSum{=goodsView['goodsNo']}[]");
        str = str.split("displayOptionkey[]").join("displayOptionkey{=goodsView['goodsNo']}[]");
        str = str.split("couponApplyNo[]").join("couponApplyNo{=goodsView['goodsNo']}[]");
        str = str.split("couponSalePriceSum[]").join("couponSalePriceSum{=goodsView['goodsNo']}[]");
        str = str.split("couponAddPriceSum[]").join("couponAddPriceSum{=goodsView['goodsNo']}[]");
        str = str.split("goodsCnt[]").join("goodsCnt{=goodsView['goodsNo']}[]");
        str = str.split("optionPriceSum[]").join("optionPriceSum{=goodsView['goodsNo']}[]");
        str = str.split("optionText[").join("optionText{=goodsView['goodsNo']}[");
        str = str.split("optionTextPriceSum[").join("optionTextPriceSum{=goodsView['goodsNo']}[");
        str = str.split("addGoodsNo[").join("addGoodsNo{=goodsView['goodsNo']}[");
        str = str.split("addGoodsCnt[").join("addGoodsCnt{=goodsView['goodsNo']}[");
        str = str.split("add_goods_price_").join("add_goods_price{=goodsView['goodsNo']}_");
        str = str.split("add_goods_total_price[").join("add_goods_total_price{=goodsView['goodsNo']}[");

        return str;
    }

    function syncMainGoods(){
        $('#relateGoodsList #mainOptionArea').html($('#relateGoodsList #mainOptionAreaForm').html())

        if($('#frmView select[name="deliveryCollectFl"]').length > 0) {
            $('#relateGoodsList input[name=\'deliveryCollectFl\']')[0].value = $('#frmView select[name="deliveryCollectFl"]')[0].value;
        }
        if($('#frmView select[name="deliveryMethodFl"]').length > 0) {
            $('#relateGoodsList input[name=\'deliveryMethodFl\']')[0].value = $('#frmView select[name="deliveryMethodFl"]')[0].value;
        }
        $('#relateGoodsList #mainOptionArea input[name="mode{=goodsView['goodsNo']}"]').val($('#frmView input[name="mode"]').val());
        $('#relateGoodsList #mainOptionArea input[name="scmNo{=goodsView['goodsNo']}"]').val($('#frmView input[name="scmNo"]').val());
        $('#relateGoodsList #mainOptionArea input[name="cartMode{=goodsView['goodsNo']}"]').val($('#frmView input[name="cartMode"]').val());
        $('#relateGoodsList #mainOptionArea input[name="set_goods_price{=goodsView['goodsNo']}"]').val($('#frmView input[name="set_goods_price"]').val());
        $('#relateGoodsList #mainOptionArea input[name="set_goods_fixedPrice{=goodsView['goodsNo']}"]').val($('#frmView input[name="set_goods_fixedPrice"]').val());
        $('#relateGoodsList #mainOptionArea input[name="set_goods_mileage{=goodsView['goodsNo']}"]').val($('#frmView input[name="set_goods_mileage"]').val());
        $('#relateGoodsList #mainOptionArea input[name="set_goods_stock{=goodsView['goodsNo']}"]').val($('#frmView input[name="set_goods_stock"]').val());
        $('#relateGoodsList #mainOptionArea input[name="set_coupon_dc_price{=goodsView['goodsNo']}"]').val($('#frmView input[set_coupon_dc_price="mode"]').val());
        $('#relateGoodsList #mainOptionArea input[name="set_goods_total_price{=goodsView['goodsNo']}"]').val($('#frmView input[set_goods_total_price="mode"]').val());
        $('#relateGoodsList #mainOptionArea input[name="set_option_price{=goodsView['goodsNo']}"]').val($('#frmView input[name="set_option_price"]').val());

        $('#relateGoodsList #mainOptionArea input[name="set_option_text_price{=goodsView['goodsNo']}"]').val($('#frmView input[name="set_option_text_price"]').val());
        $('#relateGoodsList #mainOptionArea input[name="set_add_goods_price{=goodsView['goodsNo']}"]').val($('#frmView input[name="set_add_goods_price"]').val());
        $('#relateGoodsList #mainOptionArea input[name="set_total_price{=goodsView['goodsNo']}"]').val($('#frmView input[name="set_total_price"]').val());
        $('#relateGoodsList #mainOptionArea input[name="mileageFl{=goodsView['goodsNo']}"]').val($('#frmView input[name="mileageFl"]').val());
        $('#relateGoodsList #mainOptionArea input[name="mileageGoods{=goodsView['goodsNo']}"]').val($('#frmView input[name="mileageGoods"]').val());
        $('#relateGoodsList #mainOptionArea input[name="mileageGoodsUnit{=goodsView['goodsNo']}"]').val($('#frmView input[name="mileageGoodsUnit"]').val());
        $('#relateGoodsList #mainOptionArea input[name="goodsDiscountFl{=goodsView['goodsNo']}"]').val($('#frmView input[name="goodsDiscountFl"]').val());
        $('#relateGoodsList #mainOptionArea input[name="goodsDiscount{=goodsView['goodsNo']}"]').val($('#frmView input[name="goodsDiscount"]').val());
        $('#relateGoodsList #mainOptionArea input[name="goodsDiscountUnit{=goodsView['goodsNo']}"]').val($('#frmView input[name="goodsDiscountUnit"]').val());
        $('#relateGoodsList #mainOptionArea input[name="taxFreeFl{=goodsView['goodsNo']}"]').val($('#frmView input[name="taxFreeFl"]').val());

        $('#relateGoodsList #mainOptionArea input[name="taxPercent{=goodsView['goodsNo']}"]').val($('#frmView input[name="taxPercent"]').val());
        $('#relateGoodsList #mainOptionArea input[name="brandCd{=goodsView['goodsNo']}"]').val($('#frmView input[name="brandCd"]').val());
        $('#relateGoodsList #mainOptionArea input[name="cateCd{=goodsView['goodsNo']}"]').val($('#frmView input[name="cateCd"]').val());
        $('#relateGoodsList #mainOptionArea input[name="set_dc_price{=goodsView['goodsNo']}"]').val($('#frmView input[name="set_dc_price"]').val());
        $('#relateGoodsList #mainOptionArea input[name="goodsOptionCnt{=goodsView['goodsNo']}"]').val($('#frmView input[name="goodsOptionCnt"]').val());
        $('#relateGoodsList #mainOptionArea input[name="optionFl{=goodsView['goodsNo']}"]').val($('#frmView input[name="optionFl"]').val());
        $('#relateGoodsList #mainOptionArea input[name="goodsMileageExcept{=goodsView['goodsNo']}"]').val($('#frmView input[name="goodsMileageExcept"]').val());
        $('#relateGoodsList #mainOptionArea input[name="memberBenefitExcept{=goodsView['goodsNo']}"]').val($('#frmView input[name="memberBenefitExcept"]').val());
        $('#relateGoodsList #mainOptionArea input[name="couponBenefitExcept{=goodsView['goodsNo']}"]').val($('#frmView input[name="couponBenefitExcept"]').val());
        $('#relateGoodsList #mainOptionArea input[name="useBundleGoods{=goodsView['goodsNo']}"]').val($('#frmView input[name="useBundleGoods"]').val());

        $('#relateGoodsList #mainOptionArea').append(replaceAllOrderInfo($('.option_display_area')[0].innerHTML));
        $('#relateGoodsList #mainOptionArea').append('<input type="checkbox" name="chkRelatedGoods[]" id="chkRelatedMainGoods" value="{=goodsView['goodsNo']}" checked />');
        $('#relateGoodsList #mainOptionArea').append('<input type="hidden" name="mainGoods" value="{=goodsView['goodsNo']}"/>');
        $('input[name="goodsCnt[]"]').each( function( idx ){
            $('input[name="goodsCnt{=goodsView['goodsNo']}[]"]:eq('+idx+')').val($('input[name="goodsCnt[]"]:eq('+idx+')').val())
        });
        $('#frmView input[name^="addGoodsCnt["]').each( function( idx ){
            $('input[name^="addGoodsCnt{=goodsView['goodsNo']}"]:eq('+idx+')').val($('#frmView input[name^="addGoodsCnt["]:eq('+idx+')').val())
        });
    }
    $(document).ready(function () {
        $('.btn_add_cart_related').on('click', function(e){
            //메인상품 정보 업데이트
            goodsOptionCnt = [];
            try{gd_total_calculate();} catch (e){}
            try{total_calculate();} catch (e){}
            syncMainGoods();

            var returned = true;
            if($('.option_display_area div').length == 0){
                alert("{=__('메인상품 가격 정보가 없거나 옵션이 선택되지 않았습니다!')}");
                returned = false;
                return false;
            }

            if($('[id^=multiProduct]:checked').length == 0){
                alert("{=__('관련 상품이 선택 되지 않았습니다!')}");
                returned = false;
                return false;
            }

            if(gd_goods_order_main('c') == false){
                return false;
            }

            $('[id^=multiProduct]:checked').each( function( idex, value ){
                var funcName = 'gd_goods_order_related_' + (value.id.replace('multiProduct', ''));
                returned = window[funcName]('c');
                if(returned == false) return false;
            });
            if(returned == true){
                $('#relateGoodsList').attr('target','');
                if ('{=cartInfo['moveCartPageFl']}' == 'n' && ('{=cartInfo['moveCartPageDeviceFl']}' == 'mobile' || '{=cartInfo['moveCartPageDeviceFl']}' == 'all')) {
                    var params = $("#relateGoodsList").serialize();

                    var ajaxUrl = '../order/cart_ps.php';
                    var target = $("#addCartLayer");

                    $.ajax({
                        method: "POST",
                        cache: false,
                        url: ajaxUrl,
                        data: params,
                        success: function (data) {
                            // error 메시지 예외 처리용
                            if (!_.isUndefined(data.error) && data.error == 1) {
                                alert(data.message);
                                return false;
                            }

                            target.removeClass('dn');
                            $('#layerDim').removeClass('dn');
                            target.find('> div').center();
                        },
                        error: function (data) {
                            alert(data.message);
                        }
                    });
                } else {
                    $('#relateGoodsList').submit();
                }
            }
            return false;
        });
        $('.btn_add_order_related').on('click', function(e){
            //메인상품 정보 업데이트
            goodsOptionCnt = [];
            try{gd_total_calculate();} catch (e){}
            try{total_calculate();} catch (e){}
            syncMainGoods();

            var returned = true;

            if($('.option_display_area div').length == 0){
                alert("{=__('메인상품 가격 정보가 없거나 옵션이 선택되지 않았습니다!')}");
                returned = false;
                return false;
            }

            if($('[id^=multiProduct]:checked').length == 0){
                alert("{=__('관련 상품이 선택 되지 않았습니다!')}");
                returned = false;
                return false;
            }

            if(gd_goods_order_main('d') == false){
                return false;
            }

            $('[id^=multiProduct]:checked').each( function( idex, value ){
                var funcName = 'gd_goods_order_related_' + (value.id.replace('multiProduct', ''));
                returned = window[funcName]('d');
                if(returned == false) return false;
            });
            if(returned == true) {
                $('#relateGoodsList').attr('target', '');
                $('#relateGoodsList').submit();
            }
            return false;
        });
    });

    /**
     * 바로구매, 장바구니, 상품 보관함 메인상품 참조용
     *
     * @param string modeStr 처리 모드
     */
    var salesUnit_main = parseInt("{=gd_isset(goodsView['salesUnit'],1)}");
    var minOrderCnt_main = parseInt("{=gd_isset(goodsView['minOrderCnt'],1)}");
    var maxOrderCnt_main = parseInt("{=gd_isset(goodsView['maxOrderCnt'],0)}");
    function gd_goods_order_main(modeStr)
    {
        {customScript}
        $('#frmView input[name=\'cartMode\']').val(modeStr);

        if (modeStr == 'w') {
            <!--{ ? gd_is_login() === false }-->
            alert("{=__('로그인하셔야 본 서비스를 이용하실 수 있습니다.')}");
            document.location.href = "../member/login.php";
            return false;
            <!--{ : }-->

            var goodsNoCnt = $('#frmView input[name*="goodsNo[]"]').length;
            if(goodsNoCnt == 0) {
                $('#frmView input[name="cartMode"]').val('{=goodsView["goodsNo"]}');
            }

            $('#frmView input[name="mode"]').val('wishIn');
            <!--{ / }-->
        } else {
            $('#frmView input[name="mode"]').val('cartIn');
        }

        <!--{ ? gd_isset(goodsView['optionTextFl']) == 'y' }-->
        if(!goodsViewController.option_text_valid("#frmView")) {
            alert("{=__('메인상품 입력 옵션을 확인해주세요.')}");
            return false;
        }
        <!--{ / }-->

        <!--{ ? goodsView['addGoods'] }-->
        //추가상품
        if(!goodsViewController.add_goods_valid("#frmView")) {
            alert("{=__('메인상품 필수 추가 상품을 확인해주세요.')}");
            return false;
        }
        <!--{ / }-->

        submitFl = true;
        var salesUnitMsgFl = false;
        if (isNaN(goodsTotalCnt)) goodsTotalCnt = 1;
        if (_.isEmpty(goodsOptionCnt)) goodsOptionCnt[0] = 1;
        <!--{ ? goodsView['fixedSales'] == 'goods' }-->
        var perSalesCnt = goodsTotalCnt % salesUnit_main;

        if (perSalesCnt !== 0) {
            alert(__('메인상품이 %s개 단위로 묶음 주문 상품입니다.', salesUnit_main));
            salesUnitMsgFl = true;
            if(modeStr != 'c') submitFl = false;
        }
        <!--{ : }-->
        for (i in goodsOptionCnt) {
            if (isNaN(goodsOptionCnt[i])) goodsOptionCnt[i] = 0;
            var perSalesCnt = goodsOptionCnt[i] % salesUnit_main;

            if (perSalesCnt !== 0) {
                alert(__('메인상품이 %s개 단위로 묶음 주문 상품입니다.', salesUnit_main));
                salesUnitMsgFl = true;
                if(modeStr != 'c') submitFl = false;
                break;
            }
        }
        <!--{ / }-->

        if (submitFl == true) {
            <!--{ ? goodsView['fixedOrderCnt'] == 'goods' }-->
            if (minOrderCnt_main > 1 && goodsTotalCnt < minOrderCnt_main && salesUnitMsgFl == false) {
                alert(__('메인상품은 최소 %s개 이상 구매가능합니다.', minOrderCnt_main));
                if(modeStr == 'd') submitFl = false;
            } else if (maxOrderCnt_main > 0 && goodsTotalCnt > maxOrderCnt_main && salesUnitMsgFl == false) {
                alert(__('메인상품은 최대 %s개 이하 구매가능합니다.', maxOrderCnt_main));
                submitFl = false;
            }
            <!--{ : goodsView['fixedOrderCnt'] == 'id' }-->
            //ajax로 id구매카운트 체크
            var params = {
                    mode: 'check_memberOrderGoodsCount',
                    goodsNo: {=goodsView["goodsNo"]},
                };
            $.ajax({
                method: "POST",
                async: false,
                cache: false,
                url: '../order/order_ps.php',
                data: params,
                success: function (data) {
                    // error 메시지 예외 처리용
                    if (!_.isUndefined(data.error) && data.error == 1) {
                        alert(data.message);
                        return false;
                    }

                    if (minOrderCnt_main > 1 && (goodsTotalCnt + data.count) < minOrderCnt_main && salesUnitMsgFl == false) {
                        alert(__('메인상품은 최소 %s개 이상 구매가능합니다.', minOrderCnt_main));
                        if(modeStr == 'd') submitFl = false;
                    } else if (minOrderCnt_main > 1 && goodsTotalCnt < minOrderCnt_main && salesUnitMsgFl == false) {
                        alert(__('메인상품은 최소 %s개 이상 구매가능합니다.', minOrderCnt_main));
                        if(modeStr == 'd') submitFl = false;
                    } else if (maxOrderCnt_main > 0 && (goodsTotalCnt + data.count) > maxOrderCnt_main && salesUnitMsgFl == false) {
                        alert(__('메인상품은 최대 %s개 이하 구매가능합니다.', maxOrderCnt_main));
                        submitFl = false;
                    } else if (maxOrderCnt_main > 0 && goodsTotalCnt > maxOrderCnt_main && salesUnitMsgFl == false) {
                        alert(__('메인상품은 최대 %s개 이하 구매가능합니다.', maxOrderCnt_main));
                        submitFl = false;
                    }
                },
                error: function (data) {
                    alert(data.message);
                    submitFl = false;
                }
            });
            <!--{ : }-->
            var salesMinMsgFl = false;
            var salesMaxMsgFl = false;

            for (i in goodsOptionCnt) {
                if (isNaN(goodsOptionCnt[i])) goodsOptionCnt[i] = 0;
                var perSalesCnt = goodsOptionCnt[i] % salesUnit;

                if (minOrderCnt_main > 1 && goodsOptionCnt[i] < minOrderCnt_main && salesUnitMsgFl == false) {
                    if(salesMinMsgFl == false) {
                        alert(__('메인상품은 최소 %s개 이상 구매가능합니다.', minOrderCnt_main));
                        salesMinMsgFl = true;
                    }
                    if(modeStr == 'd') submitFl = false;
                    //break;
                } else if (maxOrderCnt_main > 0 && goodsOptionCnt[i] > maxOrderCnt_main && salesUnitMsgFl == false) {
                    if(salesMaxMsgFl == false) {
                        alert(__('메인상품은 최대 %s개 이하 구매가능합니다.', maxOrderCnt_main));
                        salesMaxMsgFl = true;
                    }
                    submitFl = false;
                    break;
                }
            }
            <!--{ / }-->
        }
        if ((modeStr == 'd') && submitFl === false) {
            return false;
        }

        return submitFl;
    }
</script>
<!--{ ? widgetTheme.detailSetPosition['12'] == 'UB' || widgetTheme.detailSetPosition['12'] == 'UP' }-->
<div class="multiple_selection_btn">
    <ul>
        <!--{ ? widgetTheme.detailSetButton['12'] == 'C' || widgetTheme.detailSetButton['12'] == 'B' }-->
        <li><div><a class="btn_add_cart_related">{=__('장바구니')}</a></div></li>
        <!--{ / }-->
        <!--{ ? widgetTheme.detailSetButton['12'] == 'D' || widgetTheme.detailSetButton['12'] == 'B' }-->
        <li><div><a class="btn_add_order_related" >{=__('바로 구매')}</a></div></li>
        <!--{ / }-->
    </ul>
</div>
<!--{ / }--><form id="relateGoodsList" method="post">
    <div id="mainOptionAreaForm" style="display: none;">
        <input type="hidden" name="deliveryCollectFl" value=""/>
        <input type="hidden" name="deliveryMethodFl" value=""/>
        <input type="hidden" name="mode{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="scmNo{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="cartMode{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="set_goods_price{=goodsView['goodsNo']}" value="" />
        <input type="hidden" id="set_goods_fixedPrice{=goodsView['goodsNo']}" name="set_goods_fixedPrice{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="set_goods_mileage{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="set_goods_stock{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="set_coupon_dc_price{=goodsView['goodsNo']}" value="" />
        <input type="hidden" id="set_goods_total_price{=goodsView['goodsNo']}" name="set_goods_total_price{=goodsView['goodsNo']}" value="" />
        <input type="hidden" id="set_option_price{=goodsView['goodsNo']}" name="set_option_price{=goodsView['goodsNo']}" value="" />
        <input type="hidden" id="set_option_text_price{=goodsView['goodsNo']}" name="set_option_text_price{=goodsView['goodsNo']}" value="" />
        <input type="hidden" id="set_add_goods_price{=goodsView['goodsNo']}" name="set_add_goods_price{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="set_total_price{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="mileageFl{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="mileageGoods{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="mileageGoodsUnit{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="goodsDiscountFl{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="goodsDiscount{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="goodsDiscountUnit{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="taxFreeFl{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="taxPercent{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="brandCd{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="cateCd{=goodsView['goodsNo']}" value="" />
        <input type="hidden" id="set_dc_price{=goodsView['goodsNo']}" value="" />
        <input type="hidden" id="goodsOptionCnt{=goodsView['goodsNo']}" value="" />
        <input type="hidden" name="optionFl{=goodsView['goodsNo']}" value="" />
        <!--{ ? goodsView['timeSaleFl'] }-->
        <!--{ ? goodsView['timeSaleInfo']['mileageFl'] == 'n' }-->
        <input type="hidden" name="goodsMileageExcept{=goodsView['goodsNo']}" value="" />
        <!--{ / }-->
        <!--{ ? goodsView['timeSaleInfo']['memberDcFl'] == 'n' }-->
        <input type="hidden" name="memberBenefitExcept{=goodsView['goodsNo']}" value="" />
        <!--{ / }-->
        <!--{ ? goodsView['timeSaleInfo']['couponFl'] == 'n' }-->
        <input type="hidden" name="couponBenefitExcept{=goodsView['goodsNo']}" value="" />
        <!--{ / }-->
        <!--{ / }-->
        <input type="hidden" name="useBundleGoods{=goodsView['goodsNo']}" value="" />
    </div>
    <div id="mainOptionArea" style="display: none;"></div>

    <input type="hidden" name="mode" value="cartInMulti" />
    <input type="hidden" name="cartMode" value="" />
    <!-- // 2018-02-28 추가 -->
    <!--{ ? goodsList }-->
    <!--{ @ goodsList }-->
    <!--{ @ .value_}-->
    <input type="hidden" name="mode{=..goodsNo}" value="cartIn" />
    <input type="hidden" name="scmNo{=..goodsNo}" value="{=..scmNo}" />
    <input type="hidden" name="cartMode{=..goodsNo}" value="" />
    <input type="hidden" name="set_goods_price{=..goodsNo}" value="{=gd_global_money_format(gd_isset(..goodsPrice, 0), false)}" />
    <input type="hidden" id="set_goods_fixedPrice{=..goodsNo}" name="set_goods_fixedPrice{=..goodsNo}" value="{=gd_isset(..fixedPrice, 0)}" />
    <input type="hidden" name="set_goods_mileage{=..goodsNo}" value="{=gd_isset(..goodsMileageBasic, 0)}" />
    <input type="hidden" name="set_goods_stock{=..goodsNo}" value="{=gd_isset(..stockCnt, 0)}" />
    <input type="hidden" name="set_coupon_dc_price{=..goodsNo}" value="{=gd_isset(..goodsPrice, 0)}" />
    <input type="hidden" id="set_goods_total_price{=..goodsNo}" name="set_goods_total_price{=..goodsNo}" value="0" />
    <input type="hidden" id="set_option_price{=..goodsNo}" name="set_option_price{=..goodsNo}" value="0" />
    <input type="hidden" id="set_option_text_price{=..goodsNo}" name="set_option_text_price{=..goodsNo}" value="0" />
    <input type="hidden" id="set_add_goods_price{=..goodsNo}" name="set_add_goods_price{=..goodsNo}" value="0" />
    <input type="hidden" name="set_total_price{=..goodsNo}" value="{=gd_global_money_format(gd_isset(..goodsPrice, 0), false)}" />
    <input type="hidden" name="mileageFl{=..goodsNo}" value="{=..mileageFl}" />
    <input type="hidden" name="mileageGoods{=..goodsNo}" value="{=..mileageGoods}" />
    <input type="hidden" name="mileageGoodsUnit{=..goodsNo}" value="{=..mileageGoodsUnit}" />
    <input type="hidden" name="goodsDiscountFl{=..goodsNo}" value="{=..goodsDiscountFl}" />
    <input type="hidden" name="goodsDiscount{=..goodsNo}" value="{=..goodsDiscount}" />
    <input type="hidden" name="goodsDiscountUnit{=..goodsNo}" value="{=..goodsDiscountUnit}" />
    <input type="hidden" name="taxFreeFl{=..goodsNo}" value="{=..taxFreeFl}" />
    <input type="hidden" name="taxPercent{=..goodsNo}" value="{=..taxPercent}" />
    <input type="hidden" name="brandCd{=..goodsNo}" value="{=..brandCd}" />
    <input type="hidden" name="cateCd{=..goodsNo}" value="{=..cateCd}" />
    <input type="hidden" id="set_dc_price{=..goodsNo}" value="0" />
    <input type="hidden" id="goodsOptionCnt{=..goodsNo}" value="1" />
    <input type="hidden" name="optionFl{=..goodsNo}" value="{=..optionFl}" />
    <!--{ ? ..timeSaleFl }-->
    <!--{ ? ..timeSaleInfo['mileageFl'] == 'n' }-->
    <input type="hidden" name="goodsMileageExcept{=..goodsNo}" value="y" />
    <!--{ / }-->
    <!--{ ? ..timeSaleInfo['memberDcFl'] == 'n' }-->
    <input type="hidden" name="memberBenefitExcept{=..goodsNo}" value="y" />
    <!--{ / }-->
    <!--{ ? ..timeSaleInfo['couponFl'] == 'n' }-->
    <input type="hidden" name="couponBenefitExcept{=..goodsNo}" value="y" />
    <!--{ / }-->
    <!--{ / }-->
    <input type="hidden" name="useBundleGoods{=..goodsNo}" value="1" />

    <script type="text/javascript">

        var goodsViewController_{=..goodsNo} = new gd_goods_view();
        //var scriptParameters_{=..goodsNo} = '';
        //var goodsTotalCnt_{=..goodsNo};
        //var goodsOptionCnt_{=..goodsNo} = [];

        // DOM 로드
        $(document).ready(function () {
            //모바일 텍스트입력옵션 설정
            $('[name*="optionTextInput_"]').focus(function () {
                $('#divAddPay, .popup_dn').hide();
            });
            $('[name*="optionTextInput_"]').blur(function () {
                $('#divAddPay, .popup_dn').show();
            });
            //스크롤 높이 지정
            <!--{ ? type == 'goods' }-->
            $(".js_option_select{..goodsNo}").css("max-height",($(window).height()/2)-140);
            <!--{ / }-->

            var parameters		= {
                'setControllerName' : goodsViewController_{=..goodsNo},
            'setOptionFl' : '{=..optionFl}',
                'setOptNo' : '{=..goodsNo}',
                'setOptionTextFl'	: '{=..optionTextFl}',
                'setOptionDisplayFl'	: '{=..optionDisplayFl}',
                'setAddGoodsFl'	: '<!--{ ? is_array(..addGoods) }-->y<!--{ : }-->n<!--{ / }-->',
                'setIntDivision'	: '{=c.INT_DIVISION}',
                'setStrDivision'	: '{=c.STR_DIVISION}',
                'setMileageUseFl'	: '{=mileageData['useFl']}',
                'setCouponUseFl'	: '{=couponUse}',
                'setMinOrderCnt'	: '{=..minOrderCnt}',
                'setMaxOrderCnt'	: '{=..maxOrderCnt}',
                'setStockFl'	: '{=gd_isset(..stockFl)}',
                'setSalesUnit' : '{=gd_isset(..salesUnit,1)}',
                'setDecimal' : '{currency.decimal}',
                'setGoodsPrice' : '{=gd_isset(..goodsPrice,0)}',
                'setGoodsNo' : '{=..goodsNo}',
                'setMileageFl' : ' {=..mileageFl}',
                /*'setGoodsNm': "{=..goodsNm}",*/
                'setImage': "{=..social}",
                'setFixedSales' : "{=..fixedSales}",
                'setFixedOrderCnt' : "{=..fixedOrderCnt}",
                'setGoodsNm' : "{=..goodsNm}"
        };
            scriptParameters = parameters;
            goodsViewController_{=..goodsNo}.init(parameters);


            <!--{ ? ..optionFl == 'y' }-->
            <!--{ ? ..optionDisplayFl == 's' }-->
            //단일옵션일때
            $(".js_option_select{..goodsNo}").on('click', function(e){
                // 구매불가 상품 옵션 선택 불가
                if ($(this).hasClass('disabled')) {
                    return false;
                }

                if($(this).next('div').is(':hidden')) {
                    $(this).addClass("selected");

                    var optbx =  $(this).next('div.optbx');
                    $(optbx).show();
                    if($(optbx).css('left').replace('px', '') < 0){
                        return;
                    }
                    var minWidth = $('.js_option_select{=..goodsNo}').outerWidth();
                    var maxWidth = $('.js_option_select{=..goodsNo}').outerWidth();
                    var windowWidth = $(document).outerWidth();
                    for(i = 0; i < $('.js_option_select{=..goodsNo} + div li nobr').length; i++){
                        if($('.js_option_select{=..goodsNo} + div li nobr:eq('+i+')').outerWidth() > maxWidth){
                            maxWidth = $('.js_option_select{=..goodsNo} + div li nobr:eq('+i+')').outerWidth();
                        }
                    }
                    var paddingSize = parseInt($('.js_option_select{=..goodsNo}.selected + div li:eq(0)').css('padding-left').replace('px', ''));
                    maxWidth = maxWidth + (paddingSize * 2);

                    var left = 0;
                    if(maxWidth > windowWidth){
                        left = (parseInt($(optbx).offset().left) * -1) + paddingSize;
                        maxWidth = windowWidth - (paddingSize * 2);
                    }else if(maxWidth + parseInt($(optbx).offset().left) + paddingSize > windowWidth){
                        left = windowWidth - (maxWidth + parseInt($(optbx).offset().left) + paddingSize);
                    }
                    $(optbx).width(maxWidth);
                    $(optbx).css('z-index', '50');
                    $(optbx).css('background-color', 'white');
                    $(optbx).css('left', left);

                    $(".js_option_select{..goodsNo}").height(30);

                    var wrap =  $(this).parent('li.js_singel_option');
                    //$(wrap).addClass('singel_option_on');

                    $(optbx).height(146);
                    $(optbx).find('div.scroll').css("max-height",146);
                    $(".js_option_select{..goodsNo}").css("overflow-y",'hidden');
                } else {
                    $(this).removeClass("selected");
                    $(this).next('div.optbx').hide();

                    var wrap = $(this).closest("li.js_singel_option");
                    /*$(wrap).css("position","static");
                    $(wrap).css("width","100%");*/
                    //$(wrap).removeClass('singel_option_on');
                    $(".js_option_select{..goodsNo}").css("overflow-y",'auto');

                }
            });

            $(".js_singel_option{..goodsNo} ul.optlst li:not(.disabled)").on('click', function(e){

                <!--{ ? ..optionImagePreviewFl == 'y' }-->
                var optionImage = $(this).find("img").attr('src');
                if(typeof optionImage !== 'undefined')  {
                    $(".js_option_add_image").remove();
                    $(".slick-list").prepend("<div class='js_option_add_image'  style='height:100%'><img src='"+optionImage+"'></div>");
                }
                <!--{ / }-->
                goodsViewController_{=..goodsNo}.option_price_display(this);

                $('button.goods_cnt{=..goodsNo}').on('click', function(e){
                    goodsViewController_{=..goodsNo}.count_change(this,1);
                });

                $('button.add_goods_cnt{=..goodsNo}').on('click', function(e){
                    goodsViewController_{=..goodsNo}.count_change(this);
                });

                $(".js_option_select{..goodsNo}").removeClass("selected");
                $(".js_option_select{..goodsNo}").next('div.optbx').hide();

                $(".js_option_select{..goodsNo}").html($(this).data('option-name'));

                var wrap = $(this).closest("li.js_singel_option");
                //$(wrap).css("position","static");
                $(wrap).removeClass('singel_option_on');
                $('.js_option_select{..goodsNo}').css('overflow-y','auto');
            });

            <!--{ : ..optionDisplayFl == 'd' }-->
            //분리형옵션일때
            $(".js_option_select{..goodsNo}").on('click', function(e){
                if(!$(this).hasClass('disabled')) {
                    if ($(this).next('div').is(':hidden')) {
                        $(this).addClass("selected");

                        var optbx = $(this).next('div.optbx');
                        $(optbx).show();
                        if($(optbx).css('left').replace('px', '') < 0){
                            return;
                        }
                        var minWidth = $('.js_option_select{=..goodsNo}').outerWidth();
                        var maxWidth = $('.js_option_select{=..goodsNo}').outerWidth();
                        var windowWidth = $(document).outerWidth();
                        for(i = 0; i < $('.js_option_select{=..goodsNo}.selected + div li nobr').length; i++){
                            if($('.js_option_select{=..goodsNo}.selected + div li nobr:eq('+i+')').outerWidth() > maxWidth){
                                maxWidth = $('.js_option_select{=..goodsNo}.selected + div li nobr:eq('+i+')').outerWidth();
                            }
                        }
                        var paddingSize = parseInt($('.js_option_select{=..goodsNo}.selected + div li:eq(0)').css('padding-left').replace('px', ''));
                        maxWidth = maxWidth + (paddingSize * 2);

                        var left = 0;
                        if(maxWidth > windowWidth){
                            left = (parseInt($(optbx).offset().left) * -1) + paddingSize;
                            maxWidth = windowWidth - (paddingSize * 2);
                        }else if(maxWidth + parseInt($(optbx).offset().left) + paddingSize > windowWidth){
                            left = windowWidth - (maxWidth + parseInt($(optbx).offset().left) + paddingSize);
                        }
                        $(optbx).width(maxWidth);
                        $(optbx).css('z-index', '50');
                        $(optbx).css('background-color', 'white');
                        $(optbx).css('left', left);
                        <!--{ ? type == 'goods' }-->
                        $(".js_option_select{..goodsNo}").height(($(window).height() / 2) - 140);

                        var wrap = $(this).parent('li.js_multi_option');
                        $(wrap).addClass('multi_option_on');

                        /*$(wrap).css("position", "absolute");
                        $(wrap).css("width","calc(100% - 30px)");
                        $(wrap).css("top", "0");
                        $(wrap).css("z-index", "103");
                        */
                        //$(optbx).addClass("optbx-select");
                        $(optbx).height(146);
                        $(optbx).find('div.scroll').css("max-height", 146);
                        $(".js_option_select{..goodsNo}").css("overflow-y",'hidden');
                        <!--{ / }-->

                    } else {
                        $(this).removeClass("selected");
                        $(this).next('div.optbx').hide();

                        var wrap = $(this).closest("li.js_multi_option");
                        $(wrap).removeClass('multi_option_on');
                        $(".js_option_select{..goodsNo}").css("overflow-y",'auto');
                        /*$(wrap).css("position", "static");
                        $(wrap).css("width","100%");*/
                    }
                } else {
                    // 구매불가 상품 옵션 선택 불가
                    return false;
                }
            });

            $(".js_multi_option{=..goodsNo}  ul.optlst").on('click',"li:not(.disabled,.disabled2)", function(e){

                $(this).parent("ul.optlst").find("li").removeClass("selected");
                $(this).addClass("selected");

                var index  = $(this).data('index');

                <!--{ ? ..optionImagePreviewFl == 'y' }-->
                if(index == 0) {
                    var optionImage = $(this).find("img").attr('src');
                    if(typeof optionImage !== 'undefined')  {
                        $(".js_option_add_image").remove();
                        $(".slick-list").prepend("<div class='js_option_add_image' style='height:100%'><img src='"+optionImage+"'></div>");
                    }
                }
                <!--{ / }-->

                goodsViewController_{=..goodsNo}.option_select(this,index,'<!--{ ? in_array('optionStock',displayAddField) }-->y<!--{ : }-->n<!--{ / }-->');

                $("body").undelegate('button.goods_cnt{=..goodsNo}:last', 'click');
                $("body").undelegate('button.goods_cnt{=..goodsNo}:first', 'click');

                $("body").delegate('button.goods_cnt{=..goodsNo}:last', 'click', function(e){
                    goodsViewController_{=..goodsNo}.count_change(this,1);
                });

                $("body").delegate('button.goods_cnt{=..goodsNo}:first', 'click', function(e){
                    goodsViewController_{=..goodsNo}.count_change(this);
                });

                $(".js_option_select{..goodsNo}").removeClass("selected");
                $(".js_option_select{..goodsNo}").next('div.optbx').hide();

                $(".optionNo_"+index+" .js_option_select{..goodsNo}").html($(this).data('params'));

                var wrap = $(this).closest("li.js_multi_option");
                $(wrap).removeClass('multi_option_on');
                $('.js_option_select{..goodsNo}').css('overflow-y','auto');
                //$(wrap).css("position","static");

            });

            <!--{ / }-->

            //gd_benefit_calculation{=..goodsNo}('gd_benefit_calculation');
            <!--{ / }-->
            $('body').undelegate('input[name^="goodsCnt{=..goodsNo}"]', 'change');
            $('body').delegate('input[name^="goodsCnt{=..goodsNo}"]', 'change', function(e){
                goodsViewController_{=..goodsNo}.input_count_change(this,1);
            });

            <!--{ ? ..addGoods }-->
            $(".js_add_goods_select{..goodsNo}").on('click', function(e){
                // 구매불가 상품 추가상품 선택 불가
                if ($(this).hasClass('disabled')) {
                    return false;
                }

                if($(this).next('div').is(':hidden')) {
                    $(this).addClass("selected");

                    var optbx =  $(this).next('div.optbx');
                    $(optbx).show();
                    if($(optbx).css('left').replace('px', '') < 0){
                        return;
                    }
                    var minWidth = $('.js_add_goods_select{=..goodsNo}').outerWidth();
                    var maxWidth = $('.js_add_goods_select{=..goodsNo}').outerWidth();
                    var windowWidth = $(document).outerWidth();
                    for(i = 0; i < $('.js_add_goods_select{=..goodsNo}.selected + div li nobr').length; i++){
                        if($('.js_add_goods_select{=..goodsNo}.selected + div li nobr:eq('+i+')').outerWidth() > maxWidth){
                            maxWidth = $('.js_add_goods_select{=..goodsNo}.selected + div li nobr:eq('+i+')').outerWidth();
                        }
                    }
                    var paddingSize = parseInt($('.js_add_goods_select{=..goodsNo}.selected + div li:eq(0)').css('padding-left').replace('px', ''));

                    maxWidth = maxWidth + (paddingSize * 2);

                    var left = 0;
                    if(maxWidth > windowWidth){
                        left = (parseInt($(optbx).offset().left) * -1) + paddingSize;
                        maxWidth = windowWidth - (paddingSize * 2);
                    }else if(maxWidth + parseInt($(optbx).offset().left) + paddingSize > windowWidth){
                        left = windowWidth - (maxWidth + parseInt($(optbx).offset().left) + paddingSize);
                    }
                    $(optbx).width(maxWidth);
                    $(optbx).css('z-index', '50');
                    $(optbx).css('background-color', 'white');
                    $(optbx).css('left', left);

                    <!--{ ? type == 'goods' }-->
                    $(".js_option_select{..goodsNo}").height(146);

                    var wrap =  $(this).parent('li.js_add_goods');
                    $(wrap).addClass('add_option_on');
                    $(optbx).height(146);
                    $(optbx).find('div.scroll').css("max-height",146);
                    $(".js_option_select{..goodsNo}").css("overflow-y",'hidden');
                    <!--{ / }-->

                } else {
                    $(this).removeClass("selected");
                    $(this).next('div.optbx').hide();

                    var wrap = $(this).closest("li.js_add_goods");
                    $(wrap).removeClass('add_option_on');
                    $('.js_option_select{..goodsNo}').css('overflow-y','auto');
                    //$(wrap).css("position","static");
                }
            });

            $(".js_add_goods{..goodsNo}  ul.optlst").on('click',"li:not(.disabled)", function(e){
                goodsViewController_{=..goodsNo}.add_goods_select(this);

                $(".js_add_goods_select{..goodsNo}:eq("+$(this).data('key')+")").removeClass("selected");
                $(".js_add_goods_select{..goodsNo}:eq("+$(this).data('key')+")").next('div.optbx').hide();

                $(".js_add_goods_select{..goodsNo}:eq("+$(this).data('key')+")").text($(this).data('goods-nm'));

                var wrap = $(this).closest("li.js_add_goods");
                //$(wrap).css("position","static");
                $(wrap).removeClass('singel_option_on');
                $('.js_add_goods_select{..goodsNo}').css('overflow-y','auto');

            });

            $("body").undelegate('button.add_goods_cnt{=..goodsNo}', 'click');
            $('body').delegate('button.add_goods_cnt{=..goodsNo}', 'click', function(e) {
                goodsViewController.count_change(this);
            });


            <!--{ / }-->


            $(".js_goods_delivery_select").on('click', function(e){
                if($(this).next('div').is(':hidden')) {
                    $(this).addClass("selected");
                    $(this).next('div.optbx').show();
                } else {
                    $(this).removeClass("selected");
                    $(this).next('div.optbx').hide();
                }
            });

            $(".js_goods_delivery  ul.optlst").on('click',"li:not(.disabled)", function(e){

                $("input[name='deliveryCollectFl']").val($(this).data('key'));

                $(".js_goods_delivery_select").html(__('배송비') + ' : ' + $(this).html());

                $(".js_goods_delivery_select").removeClass("selected");
                $(".js_goods_delivery_select").next('div.optbx').hide();
            });

            //배송방식 관련 select box
            $(".js_goods_delivery_methodFl_select").on('click', function(e){
                if($(this).next('div').is(':hidden')) {
                    $(this).addClass("selected");
                    $(this).next('div.optbx').show();
                } else {
                    $(this).removeClass("selected");
                    $(this).next('div.optbx').hide();
                }
            });
            $(".js-goods-delivery-methodFl  ul.optlst").on('click',"li:not(.disabled)", function(e){
                $("input[name='deliveryMethodFl']").val($(this).data('key'));
                $(".js_goods_delivery_methodFl_select").html(__('배송방식') + ' : ' + $(this).html());
                $(".js_goods_delivery_methodFl_select").removeClass("selected");
                $(".js_goods_delivery_methodFl_select").next('div.optbx').hide();
            });

            <!--{ ? ..optionFl== 'n' }-->
            <!--{ ? empty(..addGoods) === true &&  ..optionTextFl == 'n'  }-->
            $(".js_option_select{..goodsNo}").css("min-height","0px");
            <!--{ / }-->
            //goodsViewController_{=..goodsNo}.goods_calculate('#frmView',1,0,"{=gd_isset(..goodsCnt, ..minOrderCnt)}");
            <!--{ / }-->

            $('button.goods_cnt{=..goodsNo}').on('click', function(e){
                goodsViewController_{=..goodsNo}.count_change(this,1);
            });

            $('button.add_goods_cnt').on('click', function(e){
                goodsViewController_{=..goodsNo}.count_change(this);
            });

            <!--{ ? optionInfo['optionSno'] }-->

            <!--{ ? ..optionFl== 'n' }-->
            var optionKey = $('.option_display_area').find("div[id*='option_display_item_0']");
            <!--{ : }-->
            <!--{ ? ..optionDisplayFl == 's' }-->
            goodsViewController_{=..goodsNo}.option_price_display( $(".js_singel_option ul.optlst li.selected"));
            <!--{ : ..optionDisplayFl == 'd' }-->
            goodsViewController_{=..goodsNo}.option_price_display( $("input[name='optionSnoInput']"));
            <!--{ / }-->
            var optionKey = $('.option_total_display_area').find("div[id*='option_display_item_{optionInfo['optionSno']}']");
            <!--{ / }-->

            if($(optionKey).attr('id')) {
                optionKey = $(optionKey).attr('id').replace("option_display_item_", "");
                $("#frmView .goodsCnt_"+optionKey).val('{optionInfo['goodsCnt']}');

                <!--{ ? optionInfo['optionTextSno'] }-->

                <!--{ @ optionInfo['optionTextStr'] }-->
                var optionText = $("#frmView .optionTextDisplay{.key_}").find("input[name*='optionTextInput_']");
                $(optionText).val("{.value_}");
                <!--{ / }-->

                goodsViewController_{=..goodsNo}.option_text_select($("#frmView input[name*='optionTextInput_']"));

                $("#frmView input[name*='optionTextInput_']").val('');
                <!--{ / }-->

                <!--{ @ optionInfo['addGoodsNo'] }-->
                $("#frmView .js_add_goods{=..goodsNo}").each(function (key) {
                    $(this).find("li").each(function (key1) {
                        if($(this).data('add-goods-no') =='{.value_}') {
                            goodsViewController_{=..goodsNo}.add_goods_select($(this));
                            $("#frmView .addGoodsCnt_"+optionKey + '_{.value_}').val('{optionInfo['addGoodsCnt'][.key_]}');
                            //goodsViewController_{=..goodsNo}.goods_calculate("#frmView",'',optionKey + '{=c.INT_DIVISION}{.value_}','{optionInfo['addGoodsCnt'][.key_]}');
                        }
                    });
                });
                <!--{ / }-->

                <!--{ ? !optionInfo['optionTextSno'] && !optionInfo['addGoodsNo']  }-->
                //goodsViewController_{=..goodsNo}.goods_calculate("#frmView",1, optionKey,'{optionInfo['goodsCnt']}');
                <!--{ / }-->
            }
            <!--{ / }-->

            //상품 재입고 알림 팝업 오픈
            <!--{ ?..restockUsableFl === 'y' && !gGlobal.isFront }-->
            $('.btn_add_restock').on('click', function(e){
                window.open("./popup_goods_restock.php?goodsNo="+goodsNo, "popupRestock", "top=100, left=200, status=0, width=500px, height=600px");
                return false;
            });
            <!--{/}-->


            <!--{ ? type == 'goods' || type == 'directCart' || type == 'directOrder' }-->

            $(document).on('click','.js_coupon_apply', function(e){
                gd_layer_coupon_apply($(this).data('key'));
            });


            $(document).on('click','.btn_coupon_cancel', function(e){
                $('#divAddPay').removeClass('dn');
                gd_coupon_cancel($(this).data('key'),'');
            });


            $('.js_btn_add_order').on('click', function(e){
                gd_goods_order('d');
                return false;
            });

            $('.js_btn_add_cart').off('click').on('click', function(e){
                gd_goods_order();
                return false;
            });

            <!--{ : }-->


            <!--{ ? type == 'wish'  || type == 'today' }-->

            $('.js_btn_add_cart, .js_btn_modify_wish').on('click', function(e){
                <!--{ ? ..optionFl == 'y'}-->
                var goodsInfo		= $('#frmView input[name*=\'optionSno[]\']').length;
                <!--{ : }-->
                var goodsInfo		= $('#frmView input[name="optionSnoInput"]').val();
                <!--{ / }-->
                if (goodsInfo == '') {
                    alert("{=__('가격 정보가 없거나 옵션이 선택되지 않았습니다.')}");
                    return false;
                }

                <!--{ ? gd_isset(..optionTextFl) == 'y' }-->
                if(!goodsViewController_{=..goodsNo}.option_text_valid("#frmView"))
                {
                    alert("{=__('입력 옵션을 확인해주세요.')}");
                    return false;
                }
                <!--{ / }-->

                <!--{ ? ..addGoods }-->
                //추가상품
                if(!goodsViewController_{=..goodsNo}.add_goods_valid("#frmView"))
                {
                    alert("{=__('필수 추가 상품을 확인해주세요.')}");
                    return false;
                }
                <!--{ / }-->

                var submitFl = true;
                var salesUnitMsgFl = false;
                if (isNaN(goodsTotalCnt)) goodsTotalCnt = 1;
                if (_.isEmpty(goodsOptionCnt)) goodsOptionCnt[0] = 1;
                <!--{ ? ..fixedSales == 'goods' }-->
                var perSalesCnt = goodsTotalCnt % salesUnit;

                if (perSalesCnt !== 0) {
                    alert(__('%s개 단위로 묶음 주문 상품입니다.', salesUnit));
                    salesUnitMsgFl = true;
                    if(modeStr != 'c') submitFl = false;
                }
                <!--{ : }-->
                for (i in goodsOptionCnt) {
                    if (isNaN(goodsOptionCnt[i])) goodsOptionCnt[i] = 0;
                    var perSalesCnt = goodsOptionCnt[i] % salesUnit;

                    if (perSalesCnt !== 0) {
                        alert(__('%s개 단위로 묶음 주문 상품입니다.', salesUnit));
                        salesUnitMsgFl = true;
                        if(modeStr != 'c') submitFl = false;
                        break;
                    }
                }
                <!--{ / }-->

                if (submitFl == true) {
                    <!--{ ? ..fixedOrderCnt == 'goods' }-->
                    if (minOrderCnt > 1 && goodsTotalCnt < minOrderCnt && salesUnitMsgFl == false) {
                        alert(__('최소 %s개 이상 구매가능합니다.', minOrderCnt));
                        if(modeStr == 'd') submitFl = false;
                    } else if (maxOrderCnt > 0 && goodsTotalCnt > maxOrderCnt && salesUnitMsgFl == false) {
                        alert(__('최대 %s개 이하 구매가능합니다.', maxOrderCnt));
                        submitFl = false;
                    }
                    <!--{ : }-->
                    for (i in goodsOptionCnt) {
                        if (isNaN(goodsOptionCnt[i])) goodsOptionCnt[i] = 0;
                        var perSalesCnt = goodsOptionCnt[i] % salesUnit;

                        if (minOrderCnt > 1 && goodsOptionCnt[i] < minOrderCnt && salesUnitMsgFl == false) {
                            alert(__('최소 %s개 이상 구매가능합니다.', minOrderCnt));
                            if(modeStr == 'd') submitFl = false;
                            //break;
                        } else if (maxOrderCnt > 0 && goodsOptionCnt[i] > maxOrderCnt && salesUnitMsgFl == false) {
                            alert(__('최대 %s개 이하 구매가능합니다.', maxOrderCnt));
                            submitFl = false;
                            break;
                        }
                    }
                    <!--{ / }-->
                }

                $('#optionViewLayer').find("input[name='goodsNo[]']").val('{..goodsNo}');

                var params = $( "#frmView" ).serialize();
                <!--{ ? type == 'wish' }-->
                params += "&sno={optionInfo['sno']}";
                <!--{ / }-->
                gd_option_view_result(params);

            });

            <!--{ : }-->

            $('.js_btn_add_cart').on('click', function(e){
                <!--{ ? ..optionFl == 'y'}-->
                var goodsInfo		= $('#frmView input[name*=\'optionSno[]\']').length;
                <!--{ : }-->
                var goodsInfo		= $('#frmView input[name="optionSnoInput"]').val();
                <!--{ / }-->
                if (goodsInfo == '') {
                    alert("{=__('가격 정보가 없거나 옵션이 선택되지 않았습니다.')}");
                    return false;
                }

                <!--{ ? gd_isset(..optionTextFl) == 'y' }-->
                if(!goodsViewController_{=..goodsNo}.option_text_valid("#frmView"))
                {
                    alert("{=__('입력 옵션을 확인해주세요.')}");
                    return false;
                }
                <!--{ / }-->

                <!--{ ? ..addGoods }-->
                //추가상품
                if(!goodsViewController_{=..goodsNo}.add_goods_valid("#frmView"))
                {
                    alert("{=__('필수 추가 상품을 확인해주세요.')}");
                    return false;
                }
                <!--{ / }-->

                var submitFl = true;
                var salesUnitMsgFl = false;
                if (isNaN(goodsTotalCnt)) goodsTotalCnt = 0;
                <!--{ ? ..fixedSales == 'goods' }-->
                var perSalesCnt = goodsTotalCnt % salesUnit;

                if (perSalesCnt !== 0) {
                    alert(__('%s개 단위로 묶음 주문 상품입니다.', salesUnit));
                    salesUnitMsgFl = true;
                    if(modeStr != 'c') submitFl = false;
                }
                <!--{ : }-->
                for (i in goodsOptionCnt) {
                    if (isNaN(goodsOptionCnt[i])) goodsOptionCnt[i] = 0;
                    var perSalesCnt = goodsOptionCnt[i] % salesUnit;

                    if (perSalesCnt !== 0) {
                        alert(__('%s개 단위로 묶음 주문 상품입니다.', salesUnit));
                        salesUnitMsgFl = true;
                        if(modeStr != 'c') submitFl = false;
                        break;
                    }
                }
                <!--{ / }-->

                if (submitFl == true) {
                    <!--{ ? ..fixedOrderCnt == 'goods' }-->
                    if (minOrderCnt > 1 && goodsTotalCnt < minOrderCnt && salesUnitMsgFl == false) {
                        alert(__('최소 %s개 이상 구매가능합니다.', minOrderCnt));
                        if(modeStr == 'd') submitFl = false;
                    } else if (maxOrderCnt > 0 && goodsTotalCnt > maxOrderCnt && salesUnitMsgFl == false) {
                        alert(__('최대 %s개 이하 구매가능합니다.', maxOrderCnt));
                        submitFl = false;
                    }
                    <!--{ : }-->
                    for (i in goodsOptionCnt) {
                        if (isNaN(goodsOptionCnt[i])) goodsOptionCnt[i] = 0;
                        var perSalesCnt = goodsOptionCnt[i] % salesUnit;

                        if (minOrderCnt > 1 && goodsOptionCnt[i] < minOrderCnt && salesUnitMsgFl == false) {
                            alert(__('최소 %s개 이상 구매가능합니다.', minOrderCnt));
                            if(modeStr == 'd') submitFl = false;
                            //break;
                        } else if (maxOrderCnt > 0 && goodsOptionCnt[i] > maxOrderCnt && salesUnitMsgFl == false) {
                            alert(__('최대 %s개 이하 구매가능합니다.', maxOrderCnt));
                            submitFl = false;
                            break;
                        }
                    }
                    <!--{ / }-->
                }

                $('#optionViewLayer').find("input[name='goodsNo[]']").val('{..goodsNo}');

                var params = $( "#frmView" ).serialize()+"&mode=cartUpdate&sno={optionInfo['sno']}";

                $.ajax({
                    method: "POST",
                    cache: false,
                    url: "../order/cart_ps.php",
                    data: params,
                    success: function (data) {
                        document.location.reload();
                    },
                    error: function (data) {
                        alert(data.message);
                    }
                });

            });
            <!--{ / }-->

            <!--{ / }-->

            /* 최대 입력 길이 제한 */
            $(".js_maxlength_keyup").keyup(function() {
                if ($(this).val().length > $(this).attr('maxlength')) {
                    $(this).val($(this).val().substr(0, $(this).attr('maxlength')));
                }
            });
        });

        /**
         * 관련상품 총 합산
         */
        function total_calculate_{=..goodsNo}()
        {
            var goodsPrice = parseFloat($('input[name="set_goods_price{=..goodsNo}"]').val());

            //총합계 계산
            var goodsTotalCnt =  0;
            $('input[name*=\'goodsCnt{=..goodsNo}[]\']').each(function (index) {
                goodsTotalCnt += parseFloat($(this).val());
                goodsOptionCnt[index] = parseFloat($(this).val());
            });
            var goodsTotalPrice = goodsPrice*goodsTotalCnt;


            var setOptionPrice =  0;


            $('input[name*="optionPriceSum{=..goodsNo}[]"]').each(function () {
                setOptionPrice += parseFloat($(this).val());
            });

            var setOptionTextPrice =  0;
            $('input[name*="optionTextPriceSum{=..goodsNo}[]"]').each(function () {
                setOptionTextPrice += parseFloat($(this).val());
            });


            var setAddGoodsPrice =  0;
            $('input[name*="add_goods_total_price{=..goodsNo}"]').each(function () {
                setAddGoodsPrice += parseFloat($(this).val());
            });

            $('input[name="set_option_price{=..goodsNo}"]').val(setOptionPrice);
            $('input[name="set_option_text_price{=..goodsNo}"]').val(setOptionTextPrice);
            $('input[name="set_add_goods_price{=..goodsNo}"]').val(setAddGoodsPrice);


            var totalGoodsPrice = (goodsTotalPrice + setOptionPrice + setOptionTextPrice + setAddGoodsPrice).toFixed({currency.decimal});
            $('input[name="set_total_price{=..goodsNo}"]').val(totalGoodsPrice);
            $(".goods_total_price{=..goodsNo}").html(" {=gd_global_currency_symbol()} "+gd_money_format(totalGoodsPrice)+"<b>{=gd_global_currency_string()}</b>");

            <!--{ ? addGlobalCurrency }-->
            $(".goods_total_price{=..goodsNo}").append("<p class='add_currency ta-r'>{=gd_global_add_currency_symbol()} "+gd_add_money_format(totalGoodsPrice)+"{=gd_global_add_currency_string()}</p>");
            <!--{ / }-->

            $('button.goods_cnt').attr('disabled', false);
            $('button.add_goods_cnt').attr('disabled', false);
        }

        /**
         * 바로구매, 장바구니, 상품 보관함 - 관련상품
         *
         * @param string modeStr 처리 모드
         */
        var salesUnit_{=..goodsNo} = parseInt("{=gd_isset(..salesUnit,1)}");
        var minOrderCnt_{=..goodsNo} = parseInt("{=gd_isset(..minOrderCnt,1)}");
        var maxOrderCnt_{=..goodsNo} = parseInt("{=gd_isset(..maxOrderCnt,0)}");
        function gd_goods_order_related_{=..goodsNo}(modeStr)
        {
            var goodsNm = "{=gd_htmlspecialchars_addslashes(..goodsNm)}";

            {customScript}
            //$('#relateGoodsList input[name=\'cartMode_{=..goodsNo}\']').val(modeStr);
            $('#relateGoodsList input[name=\'cartMode\']').val(modeStr);

            $('#relateGoodsList input[name="mode_{=..goodsNo}"]').val('cartInMulti');
            $('#relateGoodsList input[name="mode"]').val('cartInMulti');
            $('#relateGoodsList').attr('action','../order/cart_ps.php');

            <!--{ ? ..optionFl == 'y'}-->
            var goodsInfo = $('#relateGoodsList input[name*=\'optionSno{=..goodsNo}[]\']').length;
            <!--{ : }-->
            var goodsInfo = $('#relateGoodsList input[name="optionSnoInput{=..goodsNo}"]').val();
            <!--{ / }-->

            if (goodsInfo == '') {
                alert(__('%1$s: 가격 정보가 없거나 옵션이 선택되지 않았습니다!', goodsNm));
                return false;
            }

            <!--{ ? gd_isset(..optionTextFl) == 'y' }-->
            if(!goodsViewController_{=..goodsNo}.option_text_valid("#relateGoodsList")) {
            alert(__('%1$s: 입력 옵션을 확인해주세요.', goodsNm));
            return false;
        }
            <!--{ / }-->

            <!--{ ? ..addGoods }-->
            //추가상품
            if(!goodsViewController_{=..goodsNo}.add_goods_valid("#relateGoodsList")) {
            alert(__('%1$s: 필수 추가 상품을 확인해주세요.', goodsNm));
            return false;
        }
            <!--{ / }-->


            var submitFl = true;
            var salesUnitMsgFl = false;
            var goodsTotalCnt{=..goodsNo} = $('input[name="goodsCnt'+{=..goodsNo}+'[]"]').val();
            var goodsOptionCnt{=..goodsNo} = $('input[name="goodsCnt'+{=..goodsNo}+'[]"]').val();
            <!--{ ? ..fixedSales == 'goods' }-->
            var perSalesCnt = goodsTotalCnt{=..goodsNo} % salesUnit_{=..goodsNo};

            if (perSalesCnt !== 0) {
                alert(__('%1$s: %2$s개 단위로 묶음 주문 상품입니다.', [goodsNm, salesUnit_{=..goodsNo}]));
                salesUnitMsgFl = true;
                if(modeStr == 'd') submitFl = false;
            }
            <!--{ : }-->
            if (isNaN(goodsOptionCnt{=..goodsNo})) goodsOptionCnt{=..goodsNo} = 0;
            var perSalesCnt = goodsOptionCnt{=..goodsNo} % salesUnit_{=..goodsNo};

            if (perSalesCnt !== 0) {
                alert(__('%1$s: %2$s개 단위로 묶음 주문 상품입니다.', [goodsNm, salesUnit_{=..goodsNo}]));
                salesUnitMsgFl = true;
                if(modeStr == 'd') submitFl = false;
            }
            <!--{ / }-->

            if (submitFl == true && perSalesCnt == 0) {
                <!--{ ? ..fixedOrderCnt == 'goods' }-->
                if (goodsTotalCnt{=..goodsNo} < minOrderCnt_{=..goodsNo} && salesUnitMsgFl == false) {
                    alert(__('%1$s 상품당 최소 %2$s개 이상 구매가능합니다.', [goodsNm, minOrderCnt_{=..goodsNo}]));
                    if(modeStr == 'd') submitFl = false;
                } else if (maxOrderCnt_{=..goodsNo} > 0 && goodsTotalCnt{=..goodsNo} > maxOrderCnt_{=..goodsNo} && salesUnitMsgFl == false) {
                    alert(__('%1$s 상품당 최대 %2$s개 이하 구매가능합니다.', [goodsNm, maxOrderCnt_{=..goodsNo}]));
                    submitFl = false;
                } else if ($('input[name="goodsCnt{=..goodsNo}[]"]').data('stockFl') == 'y' && $('input[name="goodsCnt{=..goodsNo}[]"]').data('stock') < $('input[name="goodsCnt{=..goodsNo}[]"]').val() && salesUnitMsgFl == false) {
                    alert(__('%1$s 상품당 최대 %2$s개 이하 구매가능합니다.', [goodsNm, $('input[name="goodsCnt{=..goodsNo}[]"]').data('stock')]));
                    submitFl = false;
                }
                <!--{ : ..fixedOrderCnt == 'id' }-->
                var params = {
                        mode: 'check_memberOrderGoodsCount',
                        goodsNo: {=..goodsNo},
                    };
                $.ajax({
                    method: "POST",
                    async: false,
                    cache: false,
                    url: '../order/order_ps.php',
                    data: params,
                    success: function (data) {
                        // error 메시지 예외 처리용
                        if (!_.isUndefined(data.error) && data.error == 1) {
                            alert(data.message);
                            submitFl = false;
                        }

                        if (goodsTotalCnt{=..goodsNo} < minOrderCnt_{=..goodsNo} && salesUnitMsgFl == false) {
                            alert(__('%1$s ID당 최소 %2$s개 이상 구매가능합니다.', [goodsNm, minOrderCnt_{=..goodsNo}]));
                            if(modeStr == 'd') submitFl = false;
                        } else if ((goodsTotalCnt{=..goodsNo} + data.count) < minOrderCnt_{=..goodsNo} && salesUnitMsgFl == false) {
                            alert(__('%1$s ID당 최소 %2$s개 이상 구매가능합니다.', [goodsNm, minOrderCnt_{=..goodsNo}]));
                            if(modeStr == 'd') submitFl = false;
                        } else if (maxOrderCnt_{=..goodsNo} > 0 && goodsTotalCnt{=..goodsNo} > maxOrderCnt_{=..goodsNo} && salesUnitMsgFl == false) {
                            alert(__('%1$s ID당 최대 %2$s개 이하 구매가능합니다.', [goodsNm, maxOrderCnt_{=..goodsNo}]));
                            submitFl = false;
                        } else if ($('input[name="goodsCnt{=..goodsNo}[]"]').data('stockFl') == 'y' && $('input[name="goodsCnt{=..goodsNo}[]"]').data('stock') < $('input[name="goodsCnt{=..goodsNo}[]"]').val() && salesUnitMsgFl == false) {
                            alert(__('%1$s ID당 최대 %2$s개 이하 구매가능합니다.', [goodsNm, $('input[name="goodsCnt{=..goodsNo}[]"]').data('stock')]));
                            submitFl = false;
                        } else if (maxOrderCnt_{=..goodsNo} > 0 && (goodsTotalCnt{=..goodsNo} + data.count) > maxOrderCnt_{=..goodsNo} && salesUnitMsgFl == false) {
                            alert(__('%1$s ID당 최대 %2$s개 이하 구매가능합니다.', [goodsNm, maxOrderCnt_{=..goodsNo}]));
                            submitFl = false;
                        }
                    },
                    error: function (data) {
                        alert(data.message);
                        submitFl = false;
                    }
                });
                <!--{ : }-->
                if (isNaN(goodsOptionCnt{=..goodsNo})) goodsOptionCnt{=..goodsNo} = 0;
                var perSalesCnt = goodsOptionCnt{=..goodsNo} % salesUnit_{=..goodsNo};

                if (goodsOptionCnt{=..goodsNo} < minOrderCnt_{=..goodsNo} && salesUnitMsgFl == false) {
                    alert(__('%1$s 옵션당 최소 %2$s개 이상 구매가능합니다.', [goodsNm, minOrderCnt_{=..goodsNo}]));
                    if(modeStr == 'd') submitFl = false;
                } else if (maxOrderCnt_{=..goodsNo} > 0 && goodsOptionCnt{=..goodsNo} > maxOrderCnt_{=..goodsNo} && salesUnitMsgFl == false) {
                    alert(__('%1$s 옵션당 최대 %2$s개 이하 구매가능합니다.', [goodsNm, maxOrderCnt_{=..goodsNo}]));
                    submitFl = false;
                } else if ($('input[name="goodsCnt{=..goodsNo}[]"]').data('stockFl') == 'y' && $('input[name="goodsCnt{=..goodsNo}[]"]').data('stock') < $('input[name="goodsCnt{=..goodsNo}[]"]').val() && salesUnitMsgFl == false) {
                    alert(__('%1$s 옵션당 최대 %2$s개 이하 구매가능합니다.', [goodsNm, $('input[name="goodsCnt{=..goodsNo}[]"]').data('stock')]));
                    submitFl = false;
                }
                <!--{ / }-->
            }
            return submitFl;
        }
    </script>
<script type="text/html" id="optionTemplateRelated{=..goodsNo}">
    <li>
        <div id="option_display_item_{=..goodsNo}_<%=displayOptionkey%>">
            <div class="option_selected optionKey_<%=optionSno%> check">
                <span id="option_text_display{=..goodsNo}" style="display:none"></span></span>
                <input type="hidden" name="goodsNo{=..goodsNo}[]" value="{=..goodsNo}" />
                <input type="hidden" name="optionSno{=..goodsNo}[]" value="<%=optionSno%>" />
                <input type="hidden" name="goodsPriceSum{=..goodsNo}[]" value="0" />
                <input type="hidden" name="addGoodsPriceSum{=..goodsNo}[]" value="0" />
                <input type="hidden" name="displayOptionkey{=..goodsNo}[]" value="<%=displayOptionkey%>" />
                <input type="hidden" name="option_price{=..goodsNo}_<%=displayOptionkey%>" value="<%=optionPrice%>" />
                <input type="hidden" name="optionPriceSum{=..goodsNo}[]" value="0" />
                <div class="view_order_goods">
                    <div class="price_info">
                        <span class="count">
                            <button type="button" class="detail_down_btn down goods_cnt{=..goodsNo}" title="감소" value="dn^|^{=..goodsNo}">감소</button>
                            <input type="number" class="text goodsCnt{=..goodsNo}_<%=displayOptionkey%>" title="수량" name="goodsCnt{=..goodsNo}[]" value="1" data-value="1" data-stock-fl="{..stockFl}"  data-stock="<%=optionStock%>" data-key="<%=displayOptionkey%>"/>
                            <button type="button" class="detail_up_btn up goods_cnt{=..goodsNo}" title="증가" value="up^|^{=..goodsNo}">증가</button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </li>
</script>
    <script type="text/html" id="addGoodsTemplateRelated{=..goodsNo}">
        <div id="add_goods_display_item_<%=displayOptionkey%>">
            <input type="hidden" name="addGoodsNo{..goodsNo}[<%=optionIndex%>][]" value="<%=optionSno%>" data-group="<%=addGoodsGroup%>" />
            <div class="option_selected optionKey_<%=optionSno%> check">
                <input type="hidden" name="add_goods_price_<%=displayOptionkey%>_<%=displayAddGoodsKey%>" value="<%=addGoodsPrice%>" />
                <div class="view-order-goods">
                    <div class="price_info">
                        <span class="count">
                            <button type="button" class="detail_down_btn down add_goods_cnt{=..goodsNo}" title="감소" value="dn^|^{=..goodsNo}">감소</button>
                            <input type="number" class="text goodsCnt{=..goodsNo}_<%=displayOptionkey%>" title="수량" name="addGoodsCnt{=..goodsNo}[<%=optionIndex%>][]" value="1" data-value="1" data-stock-fl="<%=addGoodsStockFl%>"  data-stock="<%=addGoodsStock%>" data-key="<%=displayOptionkey%>" onchange="addGoodsViewController_<%=optionSno%>.input_count_change(this);return false;"/>
                            <button type="button" class="detail_up_btn up add_goods_cnt{=..goodsNo}" title="증가" value="up^|^{=..goodsNo}">증가</button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </script>
<li class="goods_prd_item2 <!--{ ? themeInfo.lineCnt > 1 }-->list_num_{=themeInfo.lineCnt}<!--{ / }-->">
    <div class="goods_prd_item2_box">
        <div class="goods_prd_img">
            <div class="img_box">
                <a href="{=gd_goods_url(..goodsUrl, ..goodsNo, 1)}" target="<!--{ ? themeInfo.relationLinkFl == 'blank' }-->_blank<!--{ : }-->_self<!--{ / }-->">
                    <!--{ ? in_array('img',themeInfo.displayField) && gd_isset(..goodsImage) }--><div class="img">{..goodsImage}</div><!--{ / }-->
                    <!--{ ? themeInfo.soldOutIconFl == 'y'  && ..soldOut =='y' &&  soldoutDisplay.soldout_overlay != '0' }-->
                    <span class="soldout_img" title="{=__('품절상품입니다.')}" style="background-image:url('{soldoutDisplay.soldout_overlay_img}');">{=__('품절')}</span>
                    <!--{ / }-->
                    <!--{ ? ..timeSaleFl }-->
                    <span class="timesale_img"><img src="../../img/icon/icon_timesale.png" alt="{=__('타임세일')}">{=__('타임세일')}</span>
                    <!--{ / }-->
                    <!--{ ? in_array('coupon',themeInfo.displayField) && ..couponPrice != '' }-->
                    <span class="coupon_img" <!--{ ? !in_array('img',themeInfo.displayField) && gd_isset(..goodsImage) }-->style="right:initial;" <!--{ / }-->>
                    <img src="../../img/icon/icon_coupon_img.png" alt="{=__('상품쿠폰')}">
                    </span>
                    <!--{ / }-->
                </a>
            </div>
        </div>
        <!--{ ? in_array('goodsColor',themeInfo.displayField) }-->
        {..goodsColor}
        <!--{ / }-->
        <div class="goods_prd_content">
            <div class="goods_list_info">
                <!--{ ? themeInfo.iconFl == 'y' }-->
                <div class="goods_prd_icon">{..goodsIcon}</div>
                <!--{ / }-->
                <!--{ ? themeInfo.soldOutIconFl == 'y'  && ..soldOut =='y' && soldoutDisplay.soldout_icon != 'disable' }-->
                <div class="goods_prd_soldout"><img src="{soldoutDisplay.soldout_icon_img}" alt="{=__('품절')}"></div>
                <!--{ / }-->
                <ul class="goods_info_list">
                    <!--{ ? in_array('brandCd',themeInfo.displayField) && gd_isset(..brandNm) }-->
                    <li class="brand_name">{..brandNm}</li>
                    <!--{ / }-->
                    <!--{ ? in_array('makerNm',themeInfo.displayField) && gd_isset(..makerNm) }-->
                    <li class="maker_name">{..makerNm}</li>
                    <!--{ / }-->
                    <!--{ ? in_array('goodsNm',themeInfo.displayField) && gd_isset(..goodsNm) }-->
                    <li class="prd_name" style="word-break:break-all">
                        <!-- 2018-02-28 추가 -->
                        <span class="inp_chk">
                            <!--{ ? ..checkable == 'n' || ..orderPossible != 'y' }-->
                            <input type="checkbox" name="chkRelatedGoods[]" value="{..goodsNo}" disabled class="require" id="multiProduct{=..goodsNo}" name=""/>
                            <label for="multiProduct{=..goodsNo}">선택</label>
                            <!--{ : }-->
                            <input type="checkbox" name="chkRelatedGoods[]" value="{..goodsNo}" class="require" id="multiProduct{=..goodsNo}" name=""/>
                            <label for="multiProduct{=..goodsNo}">선택</label>
                            <!--{ / }-->
                        </span>
                        <!-- // 2018-02-28 추가 -->
                        {..goodsNm}</li>
                    <!--{ / }-->
                    <!--{ ? in_array('shortDescription',themeInfo.displayField) && gd_isset(..shortDescription) }-->
                    <li class="short_des">{..shortDescription}</li>
                    <!--{ / }-->
                    <!--{ ? in_array('fixedPrice',themeInfo.displayField) && gd_isset(..fixedPrice) && ..fixedPrice > 0 && ..goodsPriceDisplayFl =='y' }-->
                    <li class="<!--{ ? in_array('fixedPrice', themeInfo.priceStrike)}-->fixed_price<!--{ / }-->">
                        {=gd_global_currency_symbol()}{=gd_global_money_format(..fixedPrice)}{=gd_global_currency_string()}
                        <span class='add_currency'>{=gd_global_add_currency_display(..fixedPrice)}</span>
                    </li>
                    <!--{ / }-->
                    <!--{ ? in_array('goodsPrice',themeInfo.displayField) && gd_isset(..goodsPrice) }-->
                    <li class="price<!--{ ? !..timeSaleFl }--><!--{ ? in_array('goodsPrice', themeInfo.priceStrike) && ((in_array('coupon', themeInfo.displayField) && ..couponPrice != '' && ..goodsPriceDisplayFl =='y') || (in_array('goodsDiscount', themeInfo.displayField) && ..dcPrice > 0)) }--> fixed_price<!--{ / }--><!--{ / }-->">
                        <span <!--{ ? !(in_array('coupon',themeInfo.displayField) && ..couponPrice != '') }-->class="c_price"<!--{ / }-->>
                        <!--{ ? themeInfo.soldOutIconFl == 'y'  && ..soldOut =='y' && soldoutDisplay.soldout_price == 'text'}-->
                        {=soldoutDisplay.soldout_price_text}
                        <!--{ : themeInfo.soldOutIconFl == 'y'  && ..soldOut =='y' && soldoutDisplay.soldout_price == 'custom'}-->
                        <img src="{soldoutDisplay.soldout_price_img}" alt="{soldoutDisplay.soldout_price_img_filename}" />
                        <!--{ : }-->
                        <!--{ ? ..goodsPriceString !='' }-->
                        {..goodsPriceString}
                        <!--{ : }-->
                        <!--{ ? ..timeSaleFl && ..timeSaleGoodsPriceViewFl =='y' && ..goodsPriceDisplayFl =='y'}-->
                        <span class="ori_price"> {=gd_global_currency_symbol()}{=gd_global_money_format(..oriGoodsPrice)}{=gd_global_currency_string()} <span class='add_currency'>{=gd_global_add_currency_display(..oriGoodsPrice)}</span></span><br/>
                        {=gd_global_currency_symbol()}{=gd_global_money_format(..goodsPrice)}</em>{=gd_global_currency_string()} <i class="i_time_icon"></i>
                        <!--{ : }-->
                        {=gd_global_currency_symbol()}{=gd_global_money_format(..goodsPrice)}</em>{=gd_global_currency_string()}
                        <!--{ / }-->
                        <span class='add_currency'>{=gd_global_add_currency_display(..goodsPrice)}</span>
                        <!--{ / }-->
                        <!--{ / }-->
                        </span>
                    </li>
                    <!--{ / }-->
                    <!--{ ? in_array('goodsDiscount', themeInfo.displayField) && ..dcPrice > 0 && ..goodsPriceDisplayFl =='y' }-->
                    <li class="price">
                        {=__('할인가')} : {=gd_global_currency_symbol()}{=gd_global_money_format(..goodsPrice - ..dcPrice)}{=gd_global_currency_string()} {=gd_global_add_currency_display(..goodsPrice - ..dcPrice)}<!--{ ? in_array('dcRate', themeInfo.displayAddField) && gd_isset(..goodsDcRate) }--> <span>({=..goodsDcRate}%)</span><!--{ / }-->
                    </li>
                    <!--{ / }-->
                    <!--{ ? in_array('coupon',themeInfo.displayField) && ..couponPrice != '' && ..goodsPriceDisplayFl =='y' }-->
                    <li class="coupon_price">
                        {=__('쿠폰가')} :
                        <span class="coupon_price1">
                            {=gd_global_currency_symbol()}{=gd_global_money_format(..couponPrice)}{=gd_global_currency_string()}
                            <span class='add_currency'>{=gd_global_add_currency_display(..couponPrice)}</span>
                            <!--{ ? in_array('dcRate', themeInfo.displayAddField) && gd_isset(..couponDcRate) }--> <span>({=..couponDcRate}%)</span><!--{ / }-->
                        </span>
                    </li>
                    <!--{ / }-->
                    <!--{ ? in_array('goodsDcPrice',themeInfo.displayField) && gd_isset(..goodsDcPrice) && ..goodsPriceDisplayFl =='y' }-->
                    <li class="dc_price">{=__('상품할인')} : {=gd_global_money_format(..goodsDcPrice)} {=gd_global_currency_string()}</li>
                    <!--{ / }-->
                    <!--{ ? in_array('mileage',themeInfo.displayField) && gd_isset(..mileageBasic) && ..goodsPriceDisplayFl =='y'}-->
                    <li class="list_mileage">{=mileageData['name']} :  {..mileageBasic} {=mileageData['unit']}</li>
                    <!--{ / }-->
                    <!--{ ? in_array('goodsModelNo',themeInfo.displayField) && gd_isset(..goodsModelNo)  }-->
                    <li class="model_no">{=__('모델번호')} : {..goodsModelNo}</li>
                    <!--{ / }-->
                    <!--{ ? in_array('goodsNo',themeInfo.displayField) && gd_isset(..goodsNo) }-->
                    <li class="prd_code">{=__('상품코드')} : {..goodsNo}</li>
                    <!--{ / }-->
                </ul>
                <!-- 2018-02-28 추가 -->
                <!--{ ? ..checkable != 'n' && ..orderPossible == 'y' }-->
                <div class="multiple_product_option layer_option">
                    <div class="ly_buy_info">
                        <ul class="ly_opt">
                            <!--{ ? ..optionFl == 'y' }-->
                            <!--{ ? ..optionDisplayFl == 's' }-->
                            <li class="js_singel_option{..goodsNo}">
                                <!-- [D] 활성화 시  class="selected" 추가 -->
                                <button type="button" class="bn_opt js_option_select{..goodsNo} <!--{ ? ..orderPossible != 'y' }--> disabled<!--{ / }-->" style="text-overflow: ellipsis; overflow-x: hidden; overflow-y: auto; height: 34px; white-space: nowrap; padding-right: 30px;">
                                    [<!--{ ? ..optionEachCntFl == 'one' && empty(optionName) === false }-->
                                    {=..optionName}
                                    <!--{ : }-->
                                    {=__('옵션')}
                                    <!--{ / }-->]
                                    {=__('옵션을 선택하세요.')}
                                </button>
                                <div class="optbx" style="display:none;overflow-y: hidden; overflow-x:visible;">
                                    <!-- [D] 3행의 높이값 구하여 height적용 -->
                                    <div class="scroll scroll_vertical_fix" style="overflow-y:auto;overflow-x:hidden;<!--{ ? type != 'goods' }-->max-height:150px;<!--{ / }-->">
                                        <ul class="optlst">
                                            <li><nobr>=
                                                <!--{ ? ..optionEachCntFl == 'many' && empty(..optionName) === false }-->{=..optionName}
                                                <!--{ : }-->{=__('옵션')}
                                                <!--{ / }-->: {=__('가격')}
                                                <!--{ ? in_array('optionStock',displayAddField) }-->  : {=__('재고')}<!--{ / }-->
                                                =
                                            </nobr></li>
                                            <!--{ @ ..option }-->
                                            <!--{ ? ...optionViewFl =='y' }-->
                                            <li class="<!--{ ? (..stockFl == 'y' && ...stockCnt <  ..minOrderCnt) || ...optionSellFl =='n' || ...optionSellFl =='t' }-->disabled<!--{ / }--> <!--{ ? ..optionIcon['goodsImage'] }-->option_add_image<!--{ / }--><!--{ ? (..stockFl == 'y' && ...optionSellFl == 't') }-->{=c.STR_DIVISION}<!--{=optionSoldOutCode[...optionSellCode]}--><!--{ / }--><!--{ ? ...optionDeliveryFl == 't' && optionDeliveryDelayCode[...optionDeliveryCode] != '' }-->{=c.STR_DIVISION}<!--{=optionDeliveryDelayCode[...optionDeliveryCode]}--><!--{ / }-->"  data-option-name="{...optionValue}" data-params="{=...sno}{=c.INT_DIVISION}{=gd_global_money_format(...optionPrice,false)}{=c.INT_DIVISION}{=...mileage}{=c.INT_DIVISION}{=...stockCnt}{=c.STR_DIVISION}{...optionValue}<!--{ ? (..stockFl == 'y' && ...optionSellFl == 't') }-->{=c.STR_DIVISION}<!--{=optionSoldOutCode[...optionSellCode]}--><!--{ / }--><!--{ ? ...optionDeliveryFl == 't' && optionDeliveryDelayCode[...optionDeliveryCode] != '' }-->{=c.STR_DIVISION}<!--{=optionDeliveryDelayCode[...optionDeliveryCode]}--><!--{ / }-->"><nobr>
                                                {=...optionValue}
                                                <!--{ ? gd_isset(...optionPrice) != '0' }--> : {=gd_global_currency_symbol()}<!--{ ? gd_isset(...optionPrice) > 0 }-->+<!--{ / }-->{=gd_global_money_format(...optionPrice)}{=gd_global_currency_string()}<!--{ / }-->
                                                <!--{ ? (...optionSellFl == 't') }-->[<!--{=optionSoldOutCode[...optionSellCode]}-->]
                                                <!--{ : (..stockFl == 'y' && ..stockCnt <  ..minOrderCnt) || ...optionSellFl ==  'n' }-->[<!--{=optionSoldOutCode['n']}-->]
                                                <!--{ : }-->
                                                <!--{ ? in_array('optionStock',displayAddField) && ..stockFl == 'y' }--> : {=number_format(...stockCnt)}{=__('개')}
                                                <!--{ / }-->
                                                <!--{ / }-->
                                                <!--{ ? ...optionDeliveryFl == 't' && optionDeliveryDelayCode[...optionDeliveryCode] != '' }-->[<!--{=optionDeliveryDelayCode[...optionDeliveryCode]}-->]
                                                <!--{ / }-->
                                            </nobr></li>
                                            <!--{ / }-->
                                            <!--{ / }-->
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <!--{ : ..optionDisplayFl == 'd' }-->
                            <!--{ @ ..optionName }-->
                            <!--{ ? ...index_ == 0 }-->
                            <input type="hidden" name="optionSnoInput{=..goodsNo}" value="" />
                            <input type="hidden" name="optionCntInput{=..goodsNo}" value="{=...size_}" />
                            <!--{ / }-->
                            <li class="js_multi_option{=..goodsNo} optionNo_{=...index_}">
                                <!-- [D] 활성화 시  class="selected" 추가 -->
                                <button type="button" class="js_option_select{..goodsNo} bn_opt<!--{ ? ..orderPossible != 'y' }--> disabled<!--{ / }--> <!--{ ? ...index_ > 0 }-->disabled<!--{ / }-->" data-next-option="{=gd_isset(..optionName[...index_ + 1])}" style="text-overflow: ellipsis; overflow-x: hidden; overflow-y: auto;height: 34px;white-space: nowrap;padding-right: 30px;">[{=...value_}]{=__('옵션을 선택하세요.')}</button>
                                <div class="optbx" style="display:block;display:none;overflow-y: hidden; overflow-x:visible;">
                                    <!-- [D] 3행의 높이값 구하여 height적용 -->
                                    <div class="scroll scroll_vertical_fix" style="overflow-y:auto;overflow-x:hidden;<!--{ ? type != 'goods' }-->max-height:150px;<!--{ / }-->">
                                        <ul class="optlst">
                                            <li class="disabled2"><nobr>=
                                                <!--{ ? ...index_ == 0 }-->{=...value_} {=__('선택')}
                                                <!--{ : }-->{=__('%s을 먼저 선택해 주세요', ..optionName[(...index_ - 1)])}
                                                <!--{ / }--> =
                                            </nobr></li>
                                            <!--{ ? ...index_ == 0 }-->
                                            <!--{ @ ..optionDivision }-->
                                            <li data-index="{=...index_}" data-params="{=....value_}" class="<!--{ ? (..stockFl == 'y' && ..stockCnt < ..minOrderCnt) || (..stockFl == 'y' && goodsView['fixedOrderCnt'] == 'option' && isset(..optionDivisionStock) && ..optionDivisionStock[....key_]['stockCnt'] < ..minOrderCnt) || (..stockFl == 'y' && ..optionDivisionStock[....key_]['stockCnt'] == '0') || ..optionDivisionStock[....key_]['optionSellFl'] ==  'n' || ..optionDivisionStock[....key_]['optionSellFl'] ==  't' }--> disabled<!--{ / }--> <!--{ ? ..optionIcon['goodsImage'] }-->option_add_image<!--{ / }-->" ><nobr>
                                                {=....value_}
                                                <!--{ ? (..optionDivisionStock[....key_]['optionSellFl'] == 't') }-->[<!--{=optionSoldOutCode[..optionDivisionStock[....key_]['optionSellCode']]}-->]
                                                <!--{ : (..stockFl == 'y' && ..optionDivisionStock[....key_]['stockCnt'] == '0') || ..optionDivisionStock[....key_]['optionSellFl'] == 'n' }-->[<!--{=optionSoldOutCode['n']}-->]
                                                <!--{ / }-->
                                            </nobr></li>
                                            <!--{ / }-->
                                            <!--{ / }-->
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <!--{ / }-->
                            <!--{ / }-->
                            <li><div class="option_display_area{=..goodsNo} order_goods" ></div></li>
                            <!--{ : }-->
                                <!--{ ? ..checkable != 'n' && ..orderPossible == 'y' }-->
                                <li>
                                    <div class="view-order-goods">
                                        <div class="price_info">
                                            <span class="count">
                                                <button type="button" class="detail_down_btn down goods_cnt{=..goodsNo}" title="감소" value="dn^|^{=..goodsNo}" <!--{ ?..orderPossible != 'y' }-->disabled="disabled"<!--{ / }-->>감소</button>
                                                <input type="number" class="text goodsCnt{=..goodsNo}_0" title="수량" name="goodsCnt{=..goodsNo}[]" value="1" data-stock-fl="{=..stockFl}" data-stock="{=..totalStock}" data-value="1"/>
                                                <button type="button" class="detail_up_btn up goods_cnt{=..goodsNo}" title="증가" value="up^|^{=..goodsNo}">증가</button>
                                            </span>
                                        </div>
                                    </div>
                                </li>
                                <div id="option_display_item_{=..goodsNo}_0">
                                    <div class="option_selected optionKey_0 check">
                                        <span id="option_text_display{=..goodsNo}_<%=displayOptionkey%>" style="display:none"></span>
                                        <input type="hidden" name="goodsNo{=..goodsNo}[]" value="{=..goodsNo}" />
                                        <input type="hidden" name="optionSno{=..goodsNo}[]" value="{=gd_isset(..option[0]['sno'])}" />
                                        <input type="hidden" name="goodsPriceSum{=..goodsNo}[]" value="0" />
                                        <input type="hidden" name="addGoodsPriceSum{=..goodsNo}[]" value="0" />
                                        <input type="hidden" name="displayOptionkey{=..goodsNo}[]" value="0" />
                                        <input type="hidden" name="option_price{=..goodsNo}_0" value="<%=optionPrice%>" />
                                        <input type="hidden" name="optionPriceSum{=..goodsNo}[]" value="0" />

                                    </div>
                                </div>
                                <!--{ / }-->
                            <!--{ / }-->
                            <div id="option_display_item_{=..goodsNo}">
                            </div>
                            <!--{ ? ..optionTextFl == 'y' }-->
                            <!--{ @ ..optionText }-->
                            <li class="add">
                                <!--{ ? ...index_ == 0 }-->
                                <input type="hidden" id="optionTextCnt" value="{=...size_}" />
                                <!--{ / }-->
                                <input type="hidden" name="optionTextNm_{=...index_}" value="{=...optionName}<!--{ ? ...mustFl == 'y' }--><em>(필수)</em><!--{ / }-->"> <input type="hidden" name="optionTextMust{=..goodsNo}_{=...index_}" value="{=...mustFl}" /> <input type="hidden" name="optionTextLimit_{=...index_}" value="{=...inputLimit}" />
                                <div class="inp_tx option_input optionTextDisplay{=..goodsNo}{=...sno}">
                                    <input type="hidden" name="optionTextSno{=..goodsNo}_{=...index_}" value="{=...sno}"/>
                                    <input type="text" name="optionTextInput{=..goodsNo}_{=...index_}" value="" class="text js_maxlength_keyup" onkeyup="goodsViewController_{=..goodsNo}.max_length_alert(this)" onchange="goodsViewController_{=..goodsNo}.option_text_select(this)" placeholder="<!--{ ? ...mustFl == 'y' }-->({=__('필수')})<!--{ / }--> {=...optionName}" maxlength="{=...inputLimit+1}" style="width:100%" <!--{ ? ..orderPossible != 'y' }--> disabled="disabled"<!--{ / }--> />
                                    <input type="hidden" value="{=..goodsNo}{=...addPrice}"/>
                                    <!-- <span class="txt-field">
                                    </span> -->
                                </div>
                            </li>
                            <<!--{ ? ...addPrice != 0 }--><li class="add"><div class="inp_tx txtInfo">※ {=__('작성시 %s%s%s 추가', gd_global_currency_symbol(), gd_global_money_format(...addPrice), gd_global_currency_string())}</div></li><!--{ / }-->
                            <!--{ / }-->
                            <!--{ / }-->

                            <!--{ ? ..addGoods }-->
                            <!--{ @ ..addGoods }-->

                            <li class="js_add_goods{..goodsNo} addGoodsInput{...index_}">
                                <!--{ ? ...mustFl =='y' }--><input type="hidden" name="addGoodsInputMustFl{=..goodsNo}[]" value="{...index_}"/><!--{ / }-->
                                <button type="button" style="text-overflow: ellipsis; overflow-x: hidden; overflow-y: auto;height: 34px;white-space: nowrap;padding-right: 30px;" class="bn_opt js_add_goods_select{..goodsNo}<!--{ ? ..orderPossible != 'y' }--> disabled<!--{ / }-->"><!--{ ? ...mustFl =='y' }-->({=__('필수')})<!--{ / }-->{=...title}</button>
                                <div class="optbx" style="display:block;display:none;overflow-y: hidden; overflow-x:visible;">
                                    <!-- [D] 3행의 높이값 구하여 height적용 -->
                                    <div class="scroll scroll_vertical_fix" style="overflow-y:auto;overflow-x:hidden;<!--{ ? type != 'goods' }-->max-height:150px;<!--{ / }-->">
                                        <ul class="optlst">
                                            <li data-value="0" data-key="{...index_}" style="white-space:nowrap; overflow-y: hidden; overflow-x:visible;"><!--{ ? ...mustFl == 'y' }-->(필수)<!--{ / }-->{=...title}</li>
                                            <!--{ @ ...addGoodsList }-->
                                            <li data-key="{...index_}" data-goods-nm="{=....goodsNm}" data-add-goods-no="{=....addGoodsNo}" data-params="{=....addGoodsNo}{=c.INT_DIVISION}{=....goodsPrice}{=c.STR_DIVISION}{=....goodsNm}<!--{ ? ....optionNm }-->({=....optionNm})<!--{ / }-->{=c.STR_DIVISION}{=rawurlencode(gd_html_add_goods_image(....addGoodsNo, ....imageNm, ....imagePath, ....imageStorage, 41, ....goodsNm, '_blank'))}{=c.STR_DIVISION}{=...index_}{=c.STR_DIVISION}{=....stockUseFl}{=c.STR_DIVISION}{=....stockCnt}" <!--{ ? ....soldOutFl =='y' || (....stockUseFl =='1' && ....stockCnt == '0')  }--> class="disabled" <!--{ / }-->><nobr>
                                            <!--{ ? ...addGoodsImageFl=='y'  }-->
                                            <!--{ ? ....imageSrc }-->
                                            <img src="{=....imageSrc}" style="height:42px" >
                                            <!--{ / }-->
                                            <!--{ / }-->
                                            {=....goodsNm}
                                            <!--{ ? ....optionNm || gd_isset(....goodsPrice) != '0' || (....soldOutFl =='y' || (....stockUseFl =='1' && ....stockCnt == '0')) }-->
                                            (
                                            <!--{ ? ....optionNm }-->
                                            {=....optionNm}
                                            <!--{ ? gd_isset(....goodsPrice) != '0' || (....soldOutFl =='y' || (....stockUseFl =='1' && ....stockCnt == '0')) }-->
                                            /
                                            <!--{ ? gd_isset(....goodsPrice) != '0'  }-->
                                            {=gd_global_currency_symbol()}
                                            <!--{ ? gd_isset(....goodsPrice) > 0   }-->+<!--{ / }-->{=gd_global_money_format(....goodsPrice)}{=gd_global_currency_string()}
                                            <!--{ ? ....soldOutFl =='y' || (....stockUseFl =='1' && ....stockCnt == '0') }--> / {=__('품절')}<!--{ / }-->
                                            <!--{ : }-->
                                            {=__('품절')}
                                            <!--{ / }-->
                                            <!--{ / }-->
                                            <!--{ : gd_isset(....goodsPrice) != '0' || (....soldOutFl =='y' || (....stockUseFl =='1' && ....stockCnt == '0')) }-->
                                            <!--{ ? gd_isset(....goodsPrice) != '0' }-->
                                            {=gd_global_currency_symbol()}
                                            <!--{ ? gd_isset(....goodsPrice) > 0 }-->+<!--{ / }-->{=gd_global_money_format(....goodsPrice)}{=gd_global_currency_string()}
                                            <!--{ ? ....soldOutFl =='y' || (....stockUseFl =='1' && ....stockCnt == '0') }--> / {=__('품절')}<!--{ / }-->
                                            <!--{ : }-->
                                            {=__('품절')}
                                            <!--{ / }-->
                                            <!--{ : }-->
                                            {=__('품절')}
                                            <!--{ / }-->
                                            )
                                            <!--{ / }--></nobr></li>
                                            <!--{ / }-->
                                        </ul>
                                    </div>
                                </div>
                                <script type="text/javascript">
                                    <!--{ @ ...addGoodsList }-->
                                    var addGoodsViewController_{=....addGoodsNo} = new gd_goods_view();
                                    var parameters		= {
                                        'setControllerName' : addGoodsViewController_{=....addGoodsNo},
                                    'setOptionFl' : '{=..optionFl}',
                                        'setOptNo' : '{=..goodsNo}',
                                        'setOptionTextFl'	: '{=..optionTextFl}',
                                        'setOptionDisplayFl'	: '{=..optionDisplayFl}',
                                        'setAddGoodsFl'	: '<!--{ ? is_array(..addGoods) }-->y<!--{ : }-->n<!--{ / }-->',
                                        'setIntDivision'	: '{=c.INT_DIVISION}',
                                        'setStrDivision'	: '{=c.STR_DIVISION}',
                                        'setMileageUseFl'	: '{=mileageData['useFl']}',
                                        'setCouponUseFl'	: '{=couponUse}',
                                        'setMinOrderCnt'	: '1',
                                        'setMaxOrderCnt'	: '{=..maxOrderCnt}',
                                        'setStockFl'	: '{=gd_isset(..stockFl)}',
                                        'setSalesUnit' : '{=gd_isset(..salesUnit,1)}',
                                        'setDecimal' : '{currency.decimal}',
                                        'setGoodsPrice' : '{=gd_isset(..goodsPrice,0)}',
                                        'setGoodsNo' : '{=..goodsNo}',
                                        'setMileageFl' : ' {=..mileageFl}',
                                        /*'setGoodsNm': "{=..goodsNm}",*/
                                        'setImage': "{=..social}",
                                        'setFixedSales' : "{=..fixedSales}",
                                        'setFixedOrderCnt' : "{=..fixedOrderCnt}"
                                    };
                                    scriptParameters = parameters;
                                    addGoodsViewController_{=....addGoodsNo}.init(parameters);
                                    <!--{ / }-->
                                </script>
                            </li>
                            <li>
                                <div>
                                    <div id="add_goods_display_area_{=..goodsNo}_{=...index_}" border="0" cellpadding="0" cellspacing="0">
                                        <div id="add_goods_display_item_{=..goodsNo}_{=...index_}">

                                        </div>
                                    </div>
                                </div>
                            </li>
                            <!--{ / }-->
                            <!--{ / }-->
                        </ul>
                    </div>
                </div>
                <!--{ / }-->
                <!-- // 2018-02-28 추가 -->
            </div>
        </div>
    </div>
</li>
<!--{ / }-->
<!--{ / }-->
<!--{ : }-->
<li class="no_bx">
    <p><strong>{=__('상품이 존재하지 않습니다.')}</strong></p>
</li>
<!--{ / }-->
<!--{ ? widgetTheme.detailSetPosition['12'] == 'UB' || widgetTheme.detailSetPosition['12'] == 'BO' }-->
<div class="multiple_selection_btn">
    <ul>
        <!--{ ? widgetTheme.detailSetButton['12'] == 'C' || widgetTheme.detailSetButton['12'] == 'B' }-->1
        <li><div><a class="btn_add_cart_related">{=__('장바구니')}</a></div></li>
        <!--{ / }-->
        <!--{ ? widgetTheme.detailSetButton['12'] == 'D' || widgetTheme.detailSetButton['12'] == 'B' }-->
        <li><div><a class="btn_add_order_related" >{=__('바로 구매')}</a></div></li>
        <!--{ / }-->
    </ul>
</div>
<!--{ / }-->
</form>